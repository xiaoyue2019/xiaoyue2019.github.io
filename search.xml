<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>PC微信数据库功能小计</title>
      <link href="/2024/PC%E5%BE%AE%E4%BF%A1%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%AE%A1/"/>
      <url>/2024/PC%E5%BE%AE%E4%BF%A1%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8A%9F%E8%83%BD%E5%B0%8F%E8%AE%A1/</url>
      
        <content type="html"><![CDATA[<p>卡在了朋友圈xml解析，烦死了，一直出错</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;ChatMsg.db&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ChatMsg&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE ChatMsg(localId INTEGER PRIMARY KEY AUTOINCREMENT,talkerId INT DEFAULT 0,MsgSvrID INT,type INT,IsSender INT,Status INT,CreateTime INT,strTalker TEXT,strContent TEXT,Reserved0 INT DEFAULT 0,Reserved1 TEXT,bytesTrans BLOB,bytesExtra BLOB,translatedContent TEXT,translatedBrand TEXT,Reserved2 INT DEFAULT 0,Reserved3 TEXT,Reserved4 TEXT)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sqlite_sequence&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE sqlite_sequence(name,seq)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;TransTable&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE TransTable(msgLocalId INTEGER PRIMARY KEY,talkerId INT)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ChatCRMsg&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE ChatCRMsg(localId INTEGER PRIMARY KEY AUTOINCREMENT,talkerId INT DEFAULT 0,MsgSvrID INT,type INT,sequence INT DEFAULT 0,statusEx INT DEFAULT 0,FlagEx INT,IsSender INT,Status INT,CreateTime INT,strTalker TEXT,strContent TEXT,Reserved0 INT DEFAULT 0,Reserved1 TEXT,bytesTrans BLOB,bytesExtra BLOB,translatedContent TEXT,translatedBrand TEXT,Reserved2 INT DEFAULT 0,Reserved3 TEXT,Reserved4 TEXT)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;TransCRTable&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE TransCRTable(msgLocalId INTEGER PRIMARY KEY,talkerId INT)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Name2ID_v1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE Name2ID_v1(UsrName TEXT PRIMARY KEY)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;DelSessionInfo&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE DelSessionInfo(talkerId INTEGER PRIMARY KEY,dbType INT DEFAULT 0,LocalId INT DEFAULT 0,svrID INT DEFAULT 0,seq INT DEFAULT 0,usrName TEXT,Reserved0 INT DEFAULT 0,Reserved1 TEXT,Reserved2 INT DEFAULT 0,Reserved3 TEXT)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ChatRecordCompatXml&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE ChatRecordCompatXml(Key TEXT PRIMARY KEY,Reserved0 INT,Buf BLOB,Reserved1 INT,Reserved2 TEXT)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;TeenagerModeAuthStorage&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE TeenagerModeAuthStorage (CreateTime INTEGER PRIMARY KEY,MsgSvrID INTERGER,RevokeSvrID INTERGER)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ChatConfig&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE ChatConfig (Key INTEGER UNIQUE, IValue INTEGER, StrValue TEXT, BufValue BLOB, Reserved1 INTEGER, Reserved2 TEXT, Reserved3 BLOB)&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;Emotion.db&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;EmotionPackageItem&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE EmotionPackageItem(ProductId TEXT PRIMARY KEY,nOrder INTEGER,Reserved0 INTEGER,Name TEXT,IconUrl TEXT,PannelUrl TEXT,PayStatus INTEGER,DownloadStatus INTEGER,InstallTime INTEGER,Reserved1 INTEGER,Reserved2 TEXT,Reserved3 INTEGER)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;EmotionItem&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE EmotionItem(localId INTEGER PRIMARY KEY AUTOINCREMENT,ProductId INTEGER,MD5 TEXT NOT NULL,Reserved0 INTEGER,Reserved1 TEXT,Type INTEGER,AppId TEXT,FromUrl TEXT,Thumb BLOB,Data BLOB,Reserved2 INTEGER,Reserved3 TEXT,Reserved4 INTEGER, UNIQUE(ProductId,MD5))&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sqlite_sequence&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE sqlite_sequence(name,seq)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;EmotionDes1&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE EmotionDes1(localId INTEGER PRIMARY KEY AUTOINCREMENT,ProductId TEXT,MD5 TEXT NOT NULL UNIQUE,Des BLOB,Reserved0 INTEGER,Reserved1 TEXT,Reserved2 BLOB)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;EmotionOrderInfo&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE EmotionOrderInfo(MD5 TEXT PRIMARY KEY,ProductId INTEGER,lastUseTime INTEGER,Reserved0 INTEGER,Reserved1 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Name2ID&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE Name2ID(UsrName TEXT PRIMARY KEY)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CustomEmotion&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE CustomEmotion(MD5 TEXT  PRIMARY KEY,ProductId INTEGER,CDNUrl TEXT,designerid TEXT,thumburl TEXT,encrypturl TEXT,aeskey TEXT,Reserved0 INTEGER,Reserved1 TEXT,Reserved2 INTEGER,Data BLOB,Reserved3 TEXT,Reserved4 INTEGER)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;FunctionMsg.db&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;FunctionMsg&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE FunctionMsg(nCreateTime INTEGER,nHashId INTEGER, strFunctionMsgId TEXT, nCmdId INT DEFAULT 0,nOpCode INTEGER DEFAULT 0,nRetryInterval INTEGER DEFAULT 0,nReportId INTEGER DEFAULT 0,nVersion INTEGER DEFAULT 0,nFunctionMsgVersion INTEGER DEFAULT0,strSuccessKey TEXT,strFailKey TEXT,strFinalFailKey TEXT,strCustomBuff TEXT,nMsgSvrIdINTEGER,nRetryCount INTEGER,nBusinessId INTEGER,strBusinessBuff TEXT,nActionTime INTEGER,nDelayTime INTEGER,strCGI TEXT,strAddMsg TEXT,Reserved1 INTEGER DEFAULT 0,Reserved2 TEXT,Reserved3 INTEGER DEFAULT 0,Reserved4 TEXT,blobOriginalAddMsg BLOB,blobNotShowAddMsg BLOB)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;FunctionMsgTask&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE FunctionMsgTask(nCreateTime INTEGER DEFAULT 0, strFunctionMsgId TEXT, nOpCode INTEGER DEFAULT 0,nActionTime INTEGER,blobAddMsgBuffer BLOB,Reserved1 INTEGER DEFAULT 0,Reserved2 TEXT,Reserved3 INTEGER DEFAULT 0,Reserved4 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;MSG0.db&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;MSG&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE MSG (localId INTEGER PRIMARY KEY AUTOINCREMENT,TalkerId INT DEFAULT 0,MsgSvrID INT,Type INT,SubType INT,IsSender INT,CreateTime INT,Sequence INT DEFAULT 0,StatusEx INT DEFAULT 0,FlagEx INT,Status INT,MsgServerSeq INT,MsgSequence INT,StrTalker TEXT,StrContent TEXT,DisplayContent TEXT,Reserved0 INT DEFAULT 0,Reserved1 INT DEFAULT 0,Reserved2 INT DEFAULT 0,Reserved3 INT DEFAULT 0,Reserved4 TEXT,Reserved5 TEXT,Reserved6 TEXT,CompressContent BLOB,BytesExtra BLOB,BytesTrans BLOB)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sqlite_sequence&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE sqlite_sequence(name,seq)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;MSGTrans&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE MSGTrans(msgLocalId INTEGER PRIMARY KEY, talkerId INT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Name2ID&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE Name2ID(UsrName TEXT PRIMARY KEY)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;DBInfo&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE DBInfo (tableIndex INTEGER PRIMARY KEY,tableVersion INTERGER,tableDesc TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;Media.db&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;MediaInfo&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE MediaInfo(MsgLocalId INTEGER PRIMARY KEY,TalkerId INTEGER DEFAULT 0,MsgType INTEGER DEFAULT 0,Reserved0 INTEGER DEFAULT 0,Reserved1 TEXT,Thumbnail BLOB,Detail BLOB,Reserved2 INTEGER DEFAULT 0,Reserved3 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ChatCRVoice&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE ChatCRVoice(Key TEXT PRIMARY KEY,Reserved0 INT,Buf BLOB,Reserved1 INT,Reserved2 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;MediaMSG0.db&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Media&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE Media(Key TEXT PRIMARY KEY,Reserved0 INT,Buf BLOB,Reserved1 INT,Reserved2 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;MicroMsg.db&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Contact&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE Contact(UserName TEXT PRIMARY KEY ,Alias TEXT,EncryptUserName TEXT,DelFlag INTEGER DEFAULT 0,Type INTEGER DEFAULT 0,VerifyFlag INTEGER DEFAULT 0,Reserved1 INTEGER DEFAULT 0,Reserved2 INTEGER DEFAULT 0,Reserved3 TEXT,Reserved4 TEXT,Remark TEXT,NickName TEXT,LabelIDList TEXT,DomainList TEXT,ChatRoomType int,PYInitial TEXT,QuanPin TEXT,RemarkPYInitial TEXT,RemarkQuanPin TEXT,BigHeadImgUrl TEXT,SmallHeadImgUrl TEXT,HeadImgMd5 TEXT,ChatRoomNotify INTEGER DEFAULT 0,Reserved5 INTEGER DEFAULT 0,Reserved6 TEXT,Reserved7 TEXT,ExtraBuf BLOB,Reserved8 INTEGER DEFAULT 0,Reserved9 INTEGER DEFAULT 0,Reserved10 TEXT,Reserved11 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;OpLog&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE OpLog(ID INTEGER PRIMARY KEY,CMDItemBuffer BLOB)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Session&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE Session(strUsrName TEXT  PRIMARY KEY,nOrder INT DEFAULT 0,nUnReadCount INTEGER DEFAULT 0,parentRef TEXT,Reserved0 INTEGER DEFAULT 0,Reserved1 TEXT,strNickName TEXT,nStatus INTEGER,nIsSend INTEGER,strContent TEXT,nMsgTypeINTEGER,nMsgLocalID INTEGER,nMsgStatus INTEGER,nTime INTEGER,editContent TEXT,othersAtMe INT,Reserved2 INTEGER DEFAULT 0,Reserved3 TEXT,Reserved4 INTEGER DEFAULT 0,Reserved5 TEXT,bytesXml BLOB)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;AppInfo&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE AppInfo(InfoKey TEXT PRIMARY KEY,AppId TEXT,Version INT,IconUrl TEXT,StoreUrl TEXT,WatermarkUrl TEXT,HeadImgBuf BLOB,Name TEXT,Description TEXT,Name4EnUS TEXT,Description4EnUS TEXT,Name4ZhTW TEXT,Description4ZhTW TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ContactHeadImgUrl&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE ContactHeadImgUrl(usrName TEXT PRIMARY KEY,smallHeadImgUrl TEXT,bigHeadImgUrl TEXT,headImgMd5 TEXT,reverse0 INT,reverse1 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BizInfo&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE BizInfo(UserName TEXT PRIMARY KEY,Type INTEGER DEFAULT 0,Belong TEXT,AcceptType INTEGER DEFAULT 0,Reserved1 INTEGER DEFAULT 0,Reserved2 TEXT,BrandList TEXT,BrandFlag INTEGER DEFAULT 0,BrandInfo TEXT,BrandIconURL TEXT,UpdateTime INTEGER DEFAULT 0,ExtInfo TEXT,Reserved3 INTEGER DEFAULT 0,Reserved4 TEXT,Reserved5 INTEGER DEFAULT 0,Reserved6 TEXT,Reserved7 INTEGER DEFAULT 0,Reserved8 TEXT,Reserved9 BLOB)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;TicketInfo&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE TicketInfo(UserName TEXT PRIMARY KEY,Ticket TEXT,Reserved1 INTEGER DEFAULT 0,Reserved2 TEXT,Reserved3 INTEGER DEFAULT 0,Reserved4 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ChatRoom&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE ChatRoom(ChatRoomName TEXT PRIMARY KEY,UserNameList TEXT,DisplayNameList TEXT,ChatRoomFlag int Default 0,Owner INTEGER DEFAULT 0,IsShowName INTEGER DEFAULT 0,SelfDisplayName TEXT,Reserved1 INTEGER DEFAULT 0,Reserved2 TEXT,Reserved3 INTEGER DEFAULT 0,Reserved4 TEXT,Reserved5 INTEGER DEFAULT 0,Reserved6 TEXT,RoomData BLOB,Reserved7 INTEGER DEFAULT 0,Reserved8 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ChatRoomInfo&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE ChatRoomInfo(ChatRoomName TEXT PRIMARY KEY,Announcement TEXT,InfoVersion INTEGER DEFAULT 0,AnnouncementEditor TEXT,AnnouncementPublishTime INTEGER DEFAULT 0,ChatRoomStatus INTEGER DEFAULT 0,Reserved1 INTEGER DEFAULT 0,Reserved2 TEXT,Reserved3 INTEGER DEFAULT 0,Reserved4 TEXT,Reserved5 INTEGER DEFAULT 0,Reserved6 TEXT,Reserved7 INTEGER DEFAULT 0,Reserved8 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;MainConfig&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE MainConfig(Key TEXT PRIMARY KEY,Reserved0 INT,Buf BLOB,Reserved1 INT,Reserved2 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;RevokeMsgStorage&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE RevokeMsgStorage (CreateTime INTEGER PRIMARY KEY,MsgSvrID INTERGER,RevokeSvrID INTERGER)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BizProfileV2&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE BizProfileV2 (TalkerId INTEGER PRIMARY KEY, UserName TEXT, ServiceType INTEGER, ArticleCount INTEGER, FriendSubscribedCount INTEGER, IsSubscribed INTEGER, Offset TEXT, IsEnd INTEGER, TimeStamp INTEGER, Reserved1 INTEGER, Reserved2 INTEGER, Reserved3 TEXT, Reserved4 TEXT, RespData BLOB, Reserved5 BLOB)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BizName2ID&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE BizName2ID(UsrName TEXT PRIMARY KEY)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BizProfileInfo&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE BizProfileInfo (tableIndex INTEGER PRIMARY KEY,tableVersion INTERGER,tableDesc TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BizSessionNewFeeds&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE BizSessionNewFeeds (TalkerId INTEGER PRIMARY KEY, BizName TEXT, Title TEXT, Desc TEXT, Type INTEGER, UnreadCount INTEGER, UpdateTime INTEGER, CreateTime INTEGER, BizAttrVersion INTEGER, Reserved1 INTEGER, Reserved2 INTEGER, Reserved3 TEXT, Reserved4 TEXT, Reserved5 BLOB)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ChatInfo&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE ChatInfo (Username TEXT, LastReadedSvrId INTEGER, LastReadedCreateTime INTEGER, Reserved1 INTEGER, Reserved2 INTEGER, Reserved3 TEXT, Reserved4 TEXT, Reserved5 INTEGER, Reserved6 TEXT, Reserved7 BLOB)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ChatLiveInfo&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE ChatLiveInfo (RoomName TEXT, LiveId INTEGER, LiveName TEXT, AnchorName TEXT, Reserved1 INTEGER, Reserved2 INTEGER, Reserved3 TEXT, Reserved4 TEXT, Reserved5 BLOB,  UNIQUE (RoomName , LiveId ))&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;TopStoryReddotInfo&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE TopStoryReddotInfo (MsgId TEXT PRIMARY KEY, Discovery INTEGER, Entry INTEGER, IosCliVersion INTEGER, AndroidCliVersion INTEGER, H5Version INTEGER, ExpireTime INTEGER, ReddotType INTEGER, TimeStamp INTEGER, ExtInfo TEXT, Seq INTEGER, ReddotText TEXT, ReddotIcon TEXT, Clear INTEGER, Priority INTEGER, HasRead INTEGER, Reserved1 INTEGER, Reserved2 INTEGER, Reserved3 TEXT, Reserved4 TEXT, Reserved5 INTEGER, Reserved6 TEXT, Reserved7 BLOB)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;PatInfo&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE PatInfo (username TEXT UNIQUE  PRIMARY KEY , suffix TEXT, reserved1 INTEGER DEFAULT 0, reserved2 INTEGER DEFAULT 0, reserved3 INTEGER DEFAULT 0, reserved4 INTEGER DEFAULT 0, reserved5 TEXT, reserved6 TEXT, reserved7 TEXT, reserved8 TEXT, reserved9 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;FTSContactTrans&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE FTSContactTrans (username TEXT,reserve1 INTEGER, reserve2 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;FTSChatroomTrans&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE FTSChatroomTrans (username TEXT,groupUsername TEXT,displayName TEXT,nickname TEXT,operation INTEGER,reserve1 INTEGER, reserve2 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ChatroomTool&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE ChatroomTool (ChatroomUsername TEXT, RoomToolsBuffer BLOB, Reserved1 INTEGER, Reserved2 TEXT, Reserved3 INTEGER, Reserved4 TEXT, Reserved5 BLOB,  UNIQUE (ChatroomUsername ))&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;Misc.db&quot;</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ContactHeadImg1&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE ContactHeadImg1(usrName TEXT PRIMARY KEY,createTime INT,smallHeadBuf BLOB,m_headImgMD5 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BizContactHeadImg&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sql&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CREATE TABLE BizContactHeadImg(usrName TEXT PRIMARY KEY,createTime INT,smallHeadBuf BLOB,m_headImgMD5 TEXT)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>2024-1-26小计</title>
      <link href="/2024/2024-1-26%E5%B0%8F%E8%AE%A1/"/>
      <url>/2024/2024-1-26%E5%B0%8F%E8%AE%A1/</url>
      
        <content type="html"><![CDATA[<h1 id="2024-1-26小计"><a href="#2024-1-26小计" class="headerlink" title="2024-1-26小计"></a>2024-1-26小计</h1><p>在杭州 wzz自习室里面</p><p>难受 雅思一直没过 一直不想学</p><p>没有动力学习 也不知道干什么 很无力</p><p>焦灼 充满了对这个世界的迷茫</p><p>看着别人高中生GitHub</p><p>再看看我的，就是一个纯乐色</p><p>时间都被我荒废完了</p><p>算了，种一棵树最好的时间是十年前，</p><p>其次是现在。</p><p>背单词去了。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 小计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微信公众号消息推送SDK for Python</title>
      <link href="/2024/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81SDK-for-Python/"/>
      <url>/2024/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81SDK-for-Python/</url>
      
        <content type="html"><![CDATA[<p>很久没写过文章了，今天来写点什么吧。</p><p>最近有客户有需求实时提醒，之前用的是server酱，现在想自己搞一个。</p><p>通过微信订阅号自己提醒。</p><p>微信公众号发送消息好像是有限的，只能通过模板消息来发送。</p><p>这时候就需要搞清楚相应的接口：</p><p><img src="https://imags.ximutech.cn/i/2024/01/25/owb0gc.png" alt="image"></p><p>获取access_token，和两个发送消息的api url</p><p>接下来只要构造好消息体，然后发送消息就可以了。</p><p>因为是要写一个模块，我们抽象出来一个client用作获取access和发送消息</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> httpx</span><br><span class="line"><span class="keyword">from</span> .loggings <span class="keyword">import</span> logger</span><br><span class="line"><span class="keyword">from</span> .consts <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Client</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, appid, appsecret</span>):</span><br><span class="line">        self.appid = appid</span><br><span class="line">        self.appsecret = appsecret</span><br><span class="line">        self.access = self.get_access_token()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_request</span>(<span class="params">self, method, url, params=<span class="literal">None</span>, data=<span class="literal">None</span>, timeout=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="keyword">if</span> params <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            params = &#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> method == <span class="string">&#x27;GET&#x27;</span>:</span><br><span class="line">            result = httpx.get(url, params=params)</span><br><span class="line">        <span class="keyword">elif</span> method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">            result =  httpx.post(url, json=data, params=params, timeout=timeout)</span><br><span class="line">        result.raise_for_status()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> result.json().get(<span class="string">&#x27;errcode&#x27;</span>):</span><br><span class="line">            logger.error(<span class="string">f&quot;[-] 访问出错：<span class="subst">&#123;result.json()&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        <span class="keyword">return</span> result.json()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_access_token</span>(<span class="params">self, appid=<span class="literal">None</span>, appsecret=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="keyword">if</span> appid <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            appid = self.appid</span><br><span class="line">        <span class="keyword">if</span> appsecret <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            appsecret = self.appsecret</span><br><span class="line"></span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">&quot;grant_type&quot;</span>: <span class="string">&quot;client_credential&quot;</span>,</span><br><span class="line">            <span class="string">&quot;appid&quot;</span>: self.appid,</span><br><span class="line">            <span class="string">&quot;secret&quot;</span>: self.appsecret,</span><br><span class="line">            <span class="string">&quot;force_refresh&quot;</span>: <span class="literal">False</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        result = self._request(<span class="string">&#x27;POST&#x27;</span>, GET_ACCESS_TOKEN, data=data)</span><br><span class="line">        <span class="keyword">return</span> result[<span class="string">&#x27;access_token&#x27;</span>]</span><br></pre></td></tr></table></figure><p>这样client的_request处理api返回错误，只要失败就返回空，然后日志打印出来错误</p><p>这样的好处是，后续逻辑中可以判断:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rep = client._request(...)</span><br><span class="line"><span class="keyword">if</span> rep:</span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="comment"># do something else</span></span><br></pre></td></tr></table></figure><p>然后再搞个发送模版消息的类：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> ..client <span class="keyword">import</span> Client</span><br><span class="line"><span class="keyword">from</span> ..loggings <span class="keyword">import</span> logger</span><br><span class="line"><span class="keyword">from</span> ..consts <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SendMsgTemplate</span>(<span class="title class_ inherited__">Client</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, appid, appsecret</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(appid, appsecret)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">send_msg_template</span>(<span class="params">self, to_user, template_id, content, url=<span class="string">&quot;&quot;</span></span>):</span><br><span class="line">        send_data = &#123;</span><br><span class="line">           <span class="string">&quot;touser&quot;</span>:to_user,</span><br><span class="line">           <span class="string">&quot;template_id&quot;</span>:template_id,</span><br><span class="line">           <span class="string">&quot;data&quot;</span>:content,</span><br><span class="line">           <span class="string">&quot;url&quot;</span>:url           </span><br><span class="line">        &#125;</span><br><span class="line">        res = self._request(<span class="string">&quot;POST&quot;</span>, SEND_TEXT_MSG_TEMPLATE, data=send_data, params=&#123;<span class="string">&quot;ACCESS_TOKEN&quot;</span>: self.access&#125;)</span><br><span class="line">        <span class="keyword">if</span> res:</span><br><span class="line">            logger.info(<span class="string">&quot;发送消息模板成功&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            logger.error(<span class="string">&quot;发送消息模板失败&quot;</span>)</span><br></pre></td></tr></table></figure><p>这里要注意的是content格式为：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">content = &#123;</span><br><span class="line">    <span class="string">&quot;first&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;value&quot;</span>: <span class="string">&quot;first msg&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;keyword1&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;value&quot;</span>: <span class="string">&quot;keyword1 msg&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>之后调用发送就行了：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> wechatMsgPushSDK.tools.send <span class="keyword">import</span> SendMsg</span><br><span class="line">send = SendMsg(<span class="string">&#x27;appid&#x27;</span>, <span class="string">&#x27;appsecret&#x27;</span>)</span><br><span class="line">send.send_msg(<span class="string">&#x27;openid&#x27;</span>, <span class="string">&#x27;给你男朋友买饭了, 宝, 别生气了&#x27;</span>)</span><br></pre></td></tr></table></figure><p>详细代码在GitHub：</p><p><a href="https://github.com/ximutech/wechatMsgPushSDK">https://github.com/ximutech/wechatMsgPushSDK</a></p><p>不成熟还未开源，后续会完善，需要公众号回复1获取源码</p><hr><p>再来看看loggings模块</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">setup_logger</span>(<span class="params">log_file_name=<span class="string">&#x27;./logs/app.log&#x27;</span></span>):</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建日志目录</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&#x27;logs&#x27;</span>):</span><br><span class="line">        os.mkdir(<span class="string">&#x27;logs&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个日志记录器</span></span><br><span class="line">    logger = logging.getLogger(<span class="string">&#x27;my_logger&#x27;</span>)</span><br><span class="line">    logger.setLevel(logging.DEBUG)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个文件处理程序，将日志写入到指定文件</span></span><br><span class="line">    log_file_path = os.path.join(os.getcwd(), log_file_name)</span><br><span class="line">    file_handler = logging.FileHandler(log_file_path)</span><br><span class="line">    file_handler.setLevel(logging.DEBUG)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个格式化器，定义日志输出的格式</span></span><br><span class="line">    formatter = logging.Formatter(<span class="string">&#x27;%(asctime)s - %(levelname)s - %(message)s&#x27;</span>)</span><br><span class="line">    file_handler.setFormatter(formatter)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将处理程序添加到记录器</span></span><br><span class="line">    logger.addHandler(file_handler)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> logger</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在模块被导入时，执行日志记录器的设置</span></span><br><span class="line">logger = setup_logger()</span><br></pre></td></tr></table></figure><p>果真chatGPT是个呆瓜，以前错误处理问chatGPT他给的处理方法及其复杂，因为我想捕获错误行到文件。</p><p>后来发现logger就有这个功能，只要设置一个格式化就行了。</p><p>Formatter这个类的解析中有格式化参数。错误行时lineno，错误路径是pathname。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>mac air 蓝牙断连</title>
      <link href="/2023/mac-air-%E8%93%9D%E7%89%99%E6%96%AD%E8%BF%9E/"/>
      <url>/2023/mac-air-%E8%93%9D%E7%89%99%E6%96%AD%E8%BF%9E/</url>
      
        <content type="html"><![CDATA[<p>周围设备太多</p><p>试了好多次都没用</p><p>在蜜雪冰城有两个wifi，从2.4g切换到5g就好了</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>如何用chatGPT提升口语水平</title>
      <link href="/2023/%E5%A6%82%E4%BD%95%E7%94%A8chatGPT%E6%8F%90%E5%8D%87%E5%8F%A3%E8%AF%AD%E6%B0%B4%E5%B9%B3/"/>
      <url>/2023/%E5%A6%82%E4%BD%95%E7%94%A8chatGPT%E6%8F%90%E5%8D%87%E5%8F%A3%E8%AF%AD%E6%B0%B4%E5%B9%B3/</url>
      
        <content type="html"><![CDATA[<p>现在是晚上八点半快酒店了，在24小时图书馆里面，还有两个不认识的同伙。</p><p>最近雅思学习可以说用“停滞不前”来形容。 每次涉及到背单词就觉得头痛的很。</p><p>在强迫自己做了几次雅思阅读之后，发现乱猜也能达到7&#x2F;13左右的水平，还不够，只能错3个。</p><p>总结和整理一下听说读写的计划吧，顺便把这几天用chatGPT学英语的心得写一下。</p><h2 id="阅读"><a href="#阅读" class="headerlink" title="阅读"></a>阅读</h2><p>用小站做阅读真题，通过Excel整理真题词汇，再把词汇整理进每日必备单词中。</p><p>这样很轻松，因为词汇是自己选择的，后面通过剑雅真题那本书来积累单词，把词汇量拉一拉。</p><p>还是<strong>小站做题</strong>，通过Excel整理<strong>题目+答案句生词</strong>，<em><strong>留心做题手法，比如画关键单词</strong></em></p><p>订正的时候结合<strong>剑雅解析</strong>去做，并<strong>收录其中生词</strong>。</p><h2 id="听力"><a href="#听力" class="headerlink" title="听力"></a>听力</h2><p>现在听力是在做贝壳听力初级课，感觉都有点听不懂。</p><p>不能做了就算了，要把8个句子中的<strong>语法点收集</strong>起来，每天回忆一下。</p><h2 id="写作"><a href="#写作" class="headerlink" title="写作"></a>写作</h2><p>现在是去年的小站小作文预测，目前动态、静态、地图、流程题都做过了</p><p>接下来2天把<strong>做题时间</strong>收缩一下，11号开始大作文的学习。</p><p>有道的订正最好还是记录一下，或者抽空回去看看吧，也不要看chatGPT的文章了，还是看范文多学点表达方式。</p><p>记住作文也要<strong>复盘</strong>。</p><h2 id="口语"><a href="#口语" class="headerlink" title="口语"></a>口语</h2><p>今晚就是因为这两个同伙不能练口语了，近期口语还没有展开。</p><p>那就展开讲讲。</p><ol><li>语法问题，害怕说错，说了必错</li><li>时间问题，想句子想很久</li><li>死啃翻译，中译英出不来就卡主</li></ol><p>对于第一个问题，以后每次说出来的东西都用小米同声记录，建个<strong>快捷方式</strong><br>第二个问题，只能多练习，你需要找到靠近雅思口语环境的单词、词伙，并且在生活中常见的场景。<br>只有将英语带入生活才能在这么短的时间将表达给连起来。</p><p>所以接下来必须保证每天一个part1，part2是用心整理，包括词汇、词伙、句式</p><ol><li>屠鸭的 part1，part2，part3 每天一个</li><li>记录他里面的词汇、词伙、句式</li><li>part1部分让chatGPT写或者百度优秀模版</li></ol><hr><p>没写到chatGPT，但我分享几个提问方式吧：</p><ul><li><p>现在开始你是雅思考官，你将问我一些问题，我会回答你，你的回答中将包含4部分内容，第1部分为正常谈话的内容，第2部分为第一部分的翻译，第3部分为我上一句话中所存在的错误（例如语法错误、单词拼写错误），第4部分为我上一句话更好的表达方法。请注意你的回答要包含四部分内容。</p></li><li><p>现在我要训练翻译，你可以出10个雅思考试中出现过的句子，我将给你翻译，你需要指出我的错误并且给出你认为正确的答案。</p></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>微信红包算法分析——怎么抢到最多?</title>
      <link href="/2023/%E5%BE%AE%E4%BF%A1%E7%BA%A2%E5%8C%85%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E2%80%94%E2%80%94%E6%80%8E%E4%B9%88%E6%8A%A2%E5%88%B0%E6%9C%80%E5%A4%9A/"/>
      <url>/2023/%E5%BE%AE%E4%BF%A1%E7%BA%A2%E5%8C%85%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E2%80%94%E2%80%94%E6%80%8E%E4%B9%88%E6%8A%A2%E5%88%B0%E6%9C%80%E5%A4%9A/</url>
      
        <content type="html"><![CDATA[<p>失败告终</p><p>以下是repo地址：</p><p><a href="https://github.com/xiaoyue2019/redpag">https://github.com/xiaoyue2019/redpag</a></p><p>以下是关键代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">generate_red_bag</span>(<span class="params">remain_money,remain_red_bag</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    剩余金额\n</span></span><br><span class="line"><span class="string">    剩余红包数</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> remain_money &lt;= <span class="number">0</span>:</span><br><span class="line">        exit(<span class="string">&quot;出错，剩余红包金额为0&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> remain_red_bag == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">round</span>(remain_money,<span class="number">2</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 计算上水位</span></span><br><span class="line">    water_bottom = <span class="number">0.01</span></span><br><span class="line">    water_top1 = <span class="built_in">round</span>(remain_money / remain_red_bag * <span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">    water_top2 = <span class="built_in">round</span>(remain_money - <span class="built_in">round</span>(water_bottom*(remain_red_bag-<span class="number">1</span>),<span class="number">2</span>),<span class="number">2</span>)</span><br><span class="line">    water_top = <span class="built_in">min</span>(water_top1,water_top2)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 计算随机数和余数</span></span><br><span class="line">    water_radom = <span class="built_in">round</span>(random.uniform(water_bottom,water_top),<span class="number">2</span>)</span><br><span class="line">    water_remainder = <span class="built_in">round</span>(water_top % water_radom,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 根据余数计算红包金额</span></span><br><span class="line">    <span class="keyword">if</span> water_remainder &gt; water_bottom:</span><br><span class="line">        current_money = water_radom</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        current_money = water_bottom</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> current_money</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>一种将墨墨单词导入QWERTY-LEARNER的方法</title>
      <link href="/2022/%E4%B8%80%E7%A7%8D%E5%B0%86%E5%A2%A8%E5%A2%A8%E5%8D%95%E8%AF%8D%E5%AF%BC%E5%85%A5QWERTY-LEARNER%E7%9A%84%E6%96%B9%E6%B3%95/"/>
      <url>/2022/%E4%B8%80%E7%A7%8D%E5%B0%86%E5%A2%A8%E5%A2%A8%E5%8D%95%E8%AF%8D%E5%AF%BC%E5%85%A5QWERTY-LEARNER%E7%9A%84%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<ol><li><p>下载装有墨墨词库的数据库<br><code>https://download.csdn.net/download/xiaoyue2019/87300976</code></p></li><li><p>通过SQL语句导出词库：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> title,spelling,phonetic_uk,phonetic_us,difficulty,frequency,acknowledge_rate,study_user_count,`<span class="keyword">order</span>`</span><br><span class="line"><span class="keyword">FROM</span> VOC_TB</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> (</span><br><span class="line"><span class="keyword">SELECT</span> title,voc_origin_id,chapter_origin_id,`<span class="keyword">order</span>`</span><br><span class="line"><span class="keyword">FROM</span> BK_VOC_TB V</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> BK_CHAPTER_TB C <span class="keyword">ON</span> V.chapter_origin_id<span class="operator">=</span> C.id <span class="keyword">AND</span> V.book_origin_id <span class="keyword">IN</span> (</span><br><span class="line"><span class="keyword">SELECT</span> origin_id</span><br><span class="line"><span class="keyword">FROM</span> BK_TB</span><br><span class="line"><span class="keyword">WHERE</span> name <span class="keyword">LIKE</span><span class="string">&#x27;%雅思词汇真经%&#x27;</span>)) <span class="keyword">AS</span> tmp <span class="keyword">ON</span> VOC_TB.origin_id<span class="operator">=</span>tmp.voc_origin_id</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `<span class="keyword">order</span>`</span><br></pre></td></tr></table></figure><p> <img src="https://img-blog.csdnimg.cn/59a2b7b2f41f45bca1d7db635de5c5c9.png" alt="在这里插入图片描述"></p></li><li><p>将发音字段改名：<br> to–&gt;</p> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;ukphone&quot;</span><span class="punctuation">:</span> <span class="string">&quot;[ˈɪmɪnənt]&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;usphone&quot;</span><span class="punctuation">:</span> <span class="string">&quot;[ˈɪmənənt]&quot;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure></li><li><p>通过脚本添加翻译（调用百度翻译api）</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#百度通用翻译API,不包含词典、tts语音合成等资源，如有相关需求请联系translate_api@baidu.com</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> http.client</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">translate</span>(<span class="params">q=<span class="string">&#x27;apple&#x27;</span></span>):</span><br><span class="line"></span><br><span class="line">    appid = <span class="string">&#x27;&#x27;</span>  <span class="comment"># 填写你的appid</span></span><br><span class="line">    secretKey = <span class="string">&#x27;&#x27;</span>  <span class="comment"># 填写你的密钥</span></span><br><span class="line"></span><br><span class="line">    httpClient = <span class="literal">None</span></span><br><span class="line">    myurl = <span class="string">&#x27;/api/trans/vip/translate&#x27;</span></span><br><span class="line"></span><br><span class="line">    fromLang = <span class="string">&#x27;auto&#x27;</span>   <span class="comment">#原文语种</span></span><br><span class="line">    toLang = <span class="string">&#x27;zh&#x27;</span>   <span class="comment">#译文语种</span></span><br><span class="line">    salt = random.randint(<span class="number">32768</span>, <span class="number">65536</span>)</span><br><span class="line"></span><br><span class="line">    sign = appid + q + <span class="built_in">str</span>(salt) + secretKey</span><br><span class="line">    sign = hashlib.md5(sign.encode()).hexdigest()</span><br><span class="line">    myurl = myurl + <span class="string">&#x27;?appid=&#x27;</span> + appid + <span class="string">&#x27;&amp;q=&#x27;</span> + urllib.parse.quote(q) + <span class="string">&#x27;&amp;from=&#x27;</span> + fromLang + <span class="string">&#x27;&amp;to=&#x27;</span> + toLang + <span class="string">&#x27;&amp;salt=&#x27;</span> + <span class="built_in">str</span>(</span><br><span class="line">    salt) + <span class="string">&#x27;&amp;sign=&#x27;</span> + sign</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        httpClient = http.client.HTTPConnection(<span class="string">&#x27;api.fanyi.baidu.com&#x27;</span>)</span><br><span class="line">        httpClient.request(<span class="string">&#x27;GET&#x27;</span>, myurl)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># response是HTTPResponse对象</span></span><br><span class="line">        response = httpClient.getresponse()</span><br><span class="line">        result_all = response.read().decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">        result = json.loads(result_all)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result[<span class="string">&#x27;trans_result&#x27;</span>][<span class="number">0</span>][<span class="string">&quot;dst&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span> (e)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">if</span> httpClient:</span><br><span class="line">            httpClient.close()</span><br><span class="line"></span><br><span class="line">data = []</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;./IELTS.json&quot;</span>,<span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> r:</span><br><span class="line">    rig_data = json.loads(r.read())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> rig_data:</span><br><span class="line">        tran = translate(i[<span class="string">&#x27;name&#x27;</span>])</span><br><span class="line">        i[<span class="string">&#x27;trans&#x27;</span>] = tran</span><br><span class="line">        data.append(i)</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;./NEW_IELTS.json&quot;</span>,<span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> w:</span><br><span class="line">    w.write(json.dumps(data))</span><br></pre></td></tr></table></figure></li><li><p>测试使用</p><p><img src="https://img-blog.csdnimg.cn/17164b644f6d4231ac4e6aa582672ce6.png" alt="在这里插入图片描述"></p></li><li><p>可能的坑点<br>需要把多余字段删掉<br>…</p></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Mac下Python的venv失效</title>
      <link href="/2022/Mac%E4%B8%8BPython%E7%9A%84venv%E5%A4%B1%E6%95%88/"/>
      <url>/2022/Mac%E4%B8%8BPython%E7%9A%84venv%E5%A4%B1%E6%95%88/</url>
      
        <content type="html"><![CDATA[<p>今天<code>source ./venv/bin/active</code>后还是跑不起来项目，以为Python出问题了，多方检查无果</p><p>后来发现activate文件中的VITRUAL_ENV字段被修改了</p><p>准确的说是我更改了文件夹</p><p>下次记住改了文件夹要来修改这个字段。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>到底该怎么选择学习方式?</title>
      <link href="/2022/%E5%88%B0%E5%BA%95%E8%AF%A5%E6%80%8E%E4%B9%88%E9%80%89%E6%8B%A9%E5%AD%A6%E4%B9%A0%E6%96%B9%E5%BC%8F/"/>
      <url>/2022/%E5%88%B0%E5%BA%95%E8%AF%A5%E6%80%8E%E4%B9%88%E9%80%89%E6%8B%A9%E5%AD%A6%E4%B9%A0%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>今天是2022.11.17</p><p>心血来潮又想写日记了，给域名续了个费。</p><p>最近用积蓄报了个雅思班，之前的被坑了，这个嘛… 单从学雅思的角度上来讲，应该是还没亏。不过让我懂得了很多道理。</p><p>在学口语的时候，总是觉得说不对，老师会纠正，同学会笑话，虽然只有三个人但也会觉得不好意思，从心底里的自卑。</p><p>没有办法遣词造句，想说的东西总是需要像翻译一样的写下来仔细思考过后才能说出来。这就是目前口语学习的瓶颈。</p><p>自我分析来说，我觉得这个最大的原因还是单词问题，不是记的单词不够多，而是不能熟悉流畅的运用单词去练成句子。</p><p>就像听力的数字总是反应不过来一样，有些人总是无法集中注意力在某些事情上，让大脑去调动应该需要的记忆来完成这件事情。</p><p>每次听力数字的时候只要一走神就不能往下听了，这除了注意力的问题外当然还有对数字的不熟悉。</p><p>后来我发现，当我联想到某个数字时我甚至不能联想到他们的英文，而要思考好几秒甚至更多的时间。</p><p>一个听力一个口语，学习者需要的是非常流畅的单词使用，而不是助教听写我们单词时去瞬时记忆。所以英语学习者到底要用什么样的学习方式来将这种单词熟练度提升呢？</p><p>我在写这篇文章时当然是没有好好考虑过的…</p><p>学习英语最好的方式就是在完全的英语环境里保持英语学习的态度。我父亲是西部地区的人，来浙江几十年了也学不会方言，只能听得懂。那是因为他没有保持对语言学习的态度。所以如果你有很好的条件可以在完全或者近似完全的英语条件中，请一定不要放弃这个机会，用提升最快的方法来学习。</p><p>如果没有这种环境，我想，是不是可以创造或者在心中幻想这样的环境，只要有毅力和绝对正确的纠错能力，就能保证口语是无时无刻的正向发展的。现在AI的发展完全满足了这个纠错能力的部分要求，其实最难的，还是毅力。</p><p>先尝试说简单的句子，将你所有可能得碎片化时间运用起来，高效的在心中默默地构建你的口语环境。将那些耗费时间的活动全部取消。抖音、爱奇艺就别看了吧，哈哈。</p><p>还有就是和人相处的问题，你的自信曾经来源于无知，现在不是知识丰富而感到自信了，而是意识到自己知识不够想要掩盖这种自信张扬的感觉却发现已经深深刻在了骨子里。这个时候你就会纠结于某些交往问题，甚至像一个心结一样在你的心头没有办法消散。即使我们不谈这在对方心里如何，这也非常占用你的内心，没有办法集中起来去处理一些问题。被感情牵绊这种蠢事总是会萦绕你身边。你总想完美的解决它，就像你想完美的写出每一行代码一样，这是不可能的特别是对于一个家庭复杂，童年也复杂的人来说。</p><p>既然不能干好每一件事，就让那些没干好的事不要打扰你接下来要干的事。如果这些事时长萦绕你旁边，而又得不到解决，那就放开心情去听听Nothing’s Gonna Change My Love For You😊</p><p>没人可以阻止你对世界的爱，如果你没有伤害别人，就保持下去吧。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>羊了个羊破解攻略——未授权接口</title>
      <link href="/2022/%E7%BE%8A%E4%BA%86%E4%B8%AA%E7%BE%8A%E7%A0%B4%E8%A7%A3%E6%94%BB%E7%95%A5%E2%80%94%E2%80%94%E6%9C%AA%E6%8E%88%E6%9D%83%E6%8E%A5%E5%8F%A3/"/>
      <url>/2022/%E7%BE%8A%E4%BA%86%E4%B8%AA%E7%BE%8A%E7%A0%B4%E8%A7%A3%E6%94%BB%E7%95%A5%E2%80%94%E2%80%94%E6%9C%AA%E6%8E%88%E6%9D%83%E6%8E%A5%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<p>之前因为<code>rm -rf</code>，导致hexo文件也丢失了，</p><p>现在慢慢找回来这些文章。</p><p>这是羊了个羊出来第二天搞的，现在应该不行了。</p><hr><p>好久没写过日记了。</p><p>后天雅思考试，记录一下最近的备考情况吧：</p><p>无。</p><p>好，记录完了。</p><p>话说真的不知道要怎么考过… 都有点想不去考了，感觉就是浪费时间。 也没有啥动力。</p><p>说一下最近爆火的羊了个羊吧，好像开发者已经财富自由了。</p><p>最开始是想通过网上的方法，抓包改地图数据，达到第二关，发现太慢了。朋友圈有人几千分，就肯定有别的方法。</p><p>然后想到通过修改返回值数据，让进入游戏时的用户变成别人，突破一天一次的限制，最后胜利了加分是加到自己这里的。</p><p>但是还是太慢了。</p><p>要么写脚本批量搞，但是这也太弱智了。</p><p>最后发现了一个接口</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://cat-match.easygame2021.com/sheep/v1/game/update_user_skin?skin=1</span><br></pre></td></tr></table></figure><p>不知道怎么翻译，修改用户皮肤？？ 但是只要发这个包，胜利次数就会+1，我想了下，可能是因为成功之后会有新皮肤出来，</p><p>然后后端程序员通过你获得了新皮肤来判断你的胜利次数。这个皮肤可以一直用1，就意味着这个接口可以无限使用。</p><p>这样就有了无限获得羊的方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -X GET -H <span class="string">&quot;Host:cat-match.easygame2021.com&quot;</span> -H <span class="string">&quot;Connection:keep-alive&quot;</span> -H <span class="string">&quot;t:你的值，抓个包获得&quot;</span> -H <span class="string">&quot;User-Agent:Mozilla/5.0 (Linux; Android 7.1.2; 22041211AC Build/N6F26Q; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/86.0.4240.99 XWEB/4313 MMWEBSDK/20220805 Mobile Safari/537.36 MMWEBID/2878 MicroMessenger/8.0.27.2220(0x28001B37) WeChat/arm64 Weixin NetType/WIFI Language/zh_CN ABI/arm64 MiniProgramEnv/android&quot;</span> -H <span class="string">&quot;charset:utf-8&quot;</span> -H <span class="string">&quot;Accept-Encoding:gzip,compress,br,deflate&quot;</span> -H <span class="string">&quot;content-type:application/json&quot;</span> -H <span class="string">&quot;Referer:https://servicewechat.com/wx141bfb9b73c970a9/15/page-frame.html&quot;</span> <span class="string">&quot;https://cat-match.easygame2021.com/sheep/v1/game/update_user_skin?skin=200&quot;</span></span><br></pre></td></tr></table></figure><p>只要跑一次就有一只羊。</p><p><img src="https://img-blog.csdnimg.cn/7bc90b26023548918f5e92fec391c6b3.png" alt="羊了个羊"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>对学校门禁的一次渗透测试</title>
      <link href="/2022/%E5%AF%B9%E5%AD%A6%E6%A0%A1%E9%97%A8%E7%A6%81%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
      <url>/2022/%E5%AF%B9%E5%AD%A6%E6%A0%A1%E9%97%A8%E7%A6%81%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<p>疫情当前，进出校园成了一大难题。</p><p>不少大学生直呼回到了高三的生活。</p><p>我们学校之前是人工看审批报告，截几张图蒙混过关也可以。但后来装了人脸识别+身份证验证+健康码验证之后，我们的快乐就没了。</p><p>本着 “我不黑你总会有人黑你甚至翻墙钻狗洞出校门” 的心情，我对这个门禁系统进行了一次渗透测试。</p><p>2022-10-08，图书馆，单词背不进去。</p><hr><p>首先，这个门禁系统能对接钉钉审批，肯定要联网</p><p>只要你联网就好办</p><p>上nmap，直接扫b段，10.0.0.0&#x2F;8</p><p>最后得到一批5555端口的可疑IP</p><p>共有7个，从30到36</p><p>5555-5585 是adb调试桥的端口，一般这种扫码机器都是比较垃圾的安卓机</p><p>直接就是su权限</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb connect x.x.x.x</span><br><span class="line">adb -s x.x.x.x shell</span><br><span class="line">su</span><br></pre></td></tr></table></figure><p>既然是su权限就方便了很多</p><p>先查看包：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm list packages -3</span><br></pre></td></tr></table></figure><p>我是通过<code>top</code>这个命令，确定的当前运行的是一个叫“xx门神”的程序（还是打个码吧）</p><p>找到pid后查看他的log</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logcat |grep --line-buffered xxx &gt;&gt; /sdcard/result.txt  </span><br></pre></td></tr></table></figure><p>这里有个小插曲是，本来毫无头绪的，吃了个饭，心血来潮对下载了这个app到手机模拟器里</p><p>抓包发现起到作用的是socket包，而不是http包，也难怪，得持续监听，想也能想到</p><p>最后分析包，发现<code>xms_white_result</code>这个字段是1的时候就是通过审批</p><p>接下来判断健康码和行程卡就能出校了</p><p>如果能来个中间人，静态修改这个字段的值，就能做到欺骗机器，假装自己申报过</p><hr><p>接下来就没搞了，但这个漏洞还是蛮严重的，因为只要有人进校就会有数据包发过来，我就能监听到相关信息。</p><p>建议是增加身份验证，要么直接关掉adb的功能，需要升级就带着线上门，不然维护费交来让你喝下午茶的嘛？！</p><hr><p>不过话又说回来，要是他这个端口也没开，我应该怎么知道他的IP地址呢？</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>解决M1芯片MacOS输入法卡顿问题</title>
      <link href="/2022/%E8%A7%A3%E5%86%B3M1%E8%8A%AF%E7%89%87MacOS%E8%BE%93%E5%85%A5%E6%B3%95%E5%8D%A1%E9%A1%BF%E9%97%AE%E9%A2%98/"/>
      <url>/2022/%E8%A7%A3%E5%86%B3M1%E8%8A%AF%E7%89%87MacOS%E8%BE%93%E5%85%A5%E6%B3%95%E5%8D%A1%E9%A1%BF%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>很离谱，在浏览器的输入框内输入时就会卡顿、延时。</p><p>应该不是重装的问题，因为系统是一致的。</p><p>别的地方不会，例如vscode、微信聊天框。 我都怀疑是键盘记录了… 查看input标签记我的私钥。</p><p>最后发现是<strong>键盘-文本-把里面的输入码删掉</strong>就好了。</p><p>之前为了不用搜狗，又舍不得搜狗的短语库，就想着把搜狗的短语库导入Mac</p><p>还是老老实实用搜狗把。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Github+Hexo+自定义域名=博客</title>
      <link href="/2022/Github-Hexo-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D-%E5%8D%9A%E5%AE%A2/"/>
      <url>/2022/Github-Hexo-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D-%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<p>接了个项目，去做了次渗透，rm -rf 了…</p><p>全部文件丢失，包括hexo配置。</p><p>重新部署一遍。把相关配置记得备份好。</p><p>老博客在master分支下。</p><ol><li><p>DNS A记录 from ping <a href="http://www.xiaoyue2019.github.io/">www.xiaoyue2019.github.io</a> get ip.</p></li><li><p>不要忘了在source下新建CNAME，写上你的A记录头，@&#x3D;x1a0.net,www&#x3D;<a href="http://www.x1a0.net/">www.x1a0.net</a></p></li><li><p>hexo_config.yaml → deployment</p> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs<span class="punctuation">:</span> https<span class="punctuation">:</span><span class="comment">//hexo.io/docs/one-command-deployment</span></span><br><span class="line">deploy<span class="punctuation">:</span></span><br><span class="line">  type<span class="punctuation">:</span> git</span><br><span class="line">  repo<span class="punctuation">:</span> https<span class="punctuation">:</span><span class="comment">//github.com/xiaoyue2019/xiaoyue2019.github.io.git</span></span><br><span class="line">  branch<span class="punctuation">:</span> main</span><br></pre></td></tr></table></figure></li><li><p>改主题</p> <figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> page about</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
